{"version":3,"sources":["components/PageFooterComponent.tsx","components/PageHeaderComponent.tsx","store/classes/actions.ts","store/schedule/actions.ts","utils/math-utils.ts","components/timetable/hourTimetable/HourDialogComponent.tsx","components/timetable/hourTimetable/LessonComponent.tsx","components/timetable/dayTimetable/DayTimetableComponent.tsx","components/timetable/timetableHeader/HeaderSlotComponent.tsx","components/timetable/timetableHeader/TimetableHeaderComponent.tsx","components/timetable/TimetableComponent.tsx","App.tsx","reportWebVitals.ts","store/schedule/reducer.ts","store/classes/reducer.ts","store/root-reducer.ts","store/schedule/epics.ts","store/classes/epics.ts","store/root-epic.ts","services/schedule-api.ts","services/index.ts","store/index.ts","index.tsx"],"names":["useStyles","makeStyles","theme","footer","backgroundColor","palette","background","paper","marginRight","spacing","flexShrink","PageFooterComponent","classes","className","Typography","variant","align","gutterBottom","style","float","target","href","toolbar","borderBottom","divider","toolbarTitle","margin","flex","iconButton","border","withRouter","connect","state","availableClasses","history","matches","useMediaQuery","React","useState","anchorEl","setAnchorEl","open","Boolean","handleClick","event","currentTarget","handleClose","menuItemClicked","cla","push","classParam","useParams","Toolbar","Box","alignSelf","Button","color","onClick","endIcon","IconButton","Menu","id","keepMounted","onClose","PaperProps","maxHeight","map","MenuItem","selected","component","noWrap","loadClassesAsync","createAsyncAction","loadScheduleAsync","gcd","x","y","lcm","an","length","Error","last","pop","lcm_rec","HourDialogComponent","lessons","lessonNumber","CssBaseline","Dialog","aria-labelledby","fullWidth","DialogTitle","DialogContent","List","lesson","ListItem","ListItemText","primary","subject","group","secondary","teacher","classroom","Divider","DialogActions","LessonComponent","height","lessonsByHour","useFitText","fontSize","ref","setOpen","dialogData","setDialogData","setLessonNumber","overflow","e","currentTargetRect","getBoundingClientRect","clickPositionFrac","pageX","left","right","lessonDurationFrac","duration","xD","Math","floor","current","Node","contains","time_index","textAlign","getProcessedHourSlots","dayTimetable","maxCongetsion","Array","fill","i","totalWidth","filter","val","processedHourSlot","hourSchedule","processedLessons","sort","a","b","aLen","bLen","localeCompare","ceil","remainingWidth","hourSlot","lessonStart","lessonEnd","width","max","slice","min","DayTimetableComponent","dayIdx","currentWeekInterval","flat","getLessonsByHour","processedHourSlots","gridRows","bottom","top","fromBottom","ToComps","result","cellFreeSpace","gridRowStart","gridRowEnd","gridRow","toString","gridColumn","textOverflow","whiteSpace","format","locale","pl","display","gridTemplateColumns","columnGap","gridTemplateRows","HeaderSlotComponent","lessonIdx","startOfLesson","addMinutes","TimetableHeaderComponent","hm","split","Date","setHours","parseInt","idx","dispatchProps","loadSchedule","request","loadClasses","timetableWrapper","gridAutoFlow","rowGap","schedule","console","log","useEffect","today","days","eachDayOfInterval","start","startOfWeek","weekStartsOn","end","endOfWeek","from","keys","App","basename","path","Topics","flexDirection","Home","to","About","match","useRouteMatch","url","Topic","topicId","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","isLoadingSchedule","createReducer","loading","error","handleAction","failure","success","action","payload","resp","scheduleReducer","combineReducers","isLoadingClasses","classesReducer","rootReducer","loadScheduleEpic","action$","state$","api","pipe","isActionOf","switchMap","getSchedule","catchError","message","of","loadClassesEpic","getClasses","combineEpics","Object","values","scheduleEpics","classesEpics","fetch","response","json","epicMiddleware","createEpicMiddleware","dependencies","services","middlewares","enhancer","composeWithDevTools","applyMiddleware","store","createStore","run","rootEpic","createMuiTheme","overrides","MuiCssBaseline","body","scrollbarWidth","scrollbarColor","bordeRadius","ReactDOM","render","StrictMode","ThemeProvider","document","getElementById"],"mappings":"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","file":"static/js/main.60c283a3.chunk.js","sourcesContent":["import { Container, makeStyles, Typography } from \"@material-ui/core\";\nimport React, { FunctionComponent } from \"react\";\n\nconst useStyles = makeStyles((theme) => ({\n    footer: {\n        backgroundColor: theme.palette.background.paper,\n        marginRight: theme.spacing(2),\n        flexShrink: 0,\n    },\n}));\n\nconst PageFooterComponent: FunctionComponent = () => {\n    const classes = useStyles();\n    return <footer className={classes.footer}>\n        {/* <Container maxWidth=\"lg\"> */}\n        <Typography variant=\"caption\" align=\"center\" gutterBottom>\n            <div style={{ float: \"right\" }}>\n\n                <a target=\"_blank\" href=\"https://github.com/Cloud11665/sabat.dev/tree/master/api\">API rozkładu</a> stworzone przez <a target=\"_blank\" href=\"https://github.com/Cloud11665\">Cloud11665</a>\n            </div>\n        </Typography>\n        {/* </Container> */}\n    </footer>;\n};\n\nexport default PageFooterComponent;","import { Box, Button, IconButton, makeStyles, Menu, MenuItem, Toolbar, Typography, useMediaQuery } from \"@material-ui/core\";\nimport React, { FunctionComponent } from \"react\";\nimport { RouteComponentProps, useParams, withRouter } from \"react-router-dom\";\nimport SchoolIcon from '@material-ui/icons/School';\nimport { RootState } from \"typesafe-actions\";\nimport { connect } from \"react-redux\";\n\nconst useStyles = makeStyles((theme) => ({\n    toolbar: {\n        borderBottom: `1px solid ${theme.palette.divider}`,\n    },\n    toolbarTitle: {\n        margin: theme.spacing(1),\n        flex: 1,\n    },\n    iconButton: {\n        border: '1px',\n    },\n}));\n\nconst mapStateToProps = (state: RootState) => ({\n    availableClasses: state.classes.classes,\n});\n\ntype PageHeaderProps = ReturnType<typeof mapStateToProps> & RouteComponentProps;\n\ntype HeaderParams = {\n    classParam: string,\n};\n\nconst PageHeaderComponent: FunctionComponent<PageHeaderProps> = ({ availableClasses, history }) => {\n    const matches = useMediaQuery('(min-width:900px)');\n    const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n    const open = Boolean(anchorEl);\n    // console.log(availableClasses);\n\n    const handleClick = (event: React.MouseEvent<HTMLElement>) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    const menuItemClicked = (cla: string) => (() => {\n        handleClose();\n        history.push(`${cla}`);\n    });\n\n    const classes = useStyles();\n    const classParam = useParams<HeaderParams>().classParam;\n    return <Toolbar className={classes.toolbar}>\n        <Box alignSelf=\"left\">\n            {matches ?\n                <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={handleClick}\n                    endIcon={<SchoolIcon />}>\n                    Wybierz klasę\n            </Button>\n                :\n                <IconButton onClick={handleClick} color=\"primary\" className={classes.iconButton}>\n                    <SchoolIcon />\n                </IconButton>\n            }\n            <Menu\n                id=\"classes-menu\"\n                anchorEl={anchorEl}\n                keepMounted\n                open={open}\n                onClose={handleClose}\n                PaperProps={{\n                    style: {\n                        maxHeight: '50vh',\n                    }\n                }}>\n                {availableClasses.map(cla => <MenuItem key={cla} onClick={menuItemClicked(cla)} selected={cla === classParam}>{cla}</MenuItem>)}\n            </Menu>\n        </Box>\n        <Typography\n            component=\"h2\"\n            variant=\"h5\"\n            color=\"inherit\"\n            align=\"center\"\n            noWrap\n            className={classes.toolbarTitle}\n        >\n            Rozkład klasy {classParam}\n        </Typography>\n    </Toolbar >\n};\n\nexport default withRouter(connect(mapStateToProps)(PageHeaderComponent));","import { GetClassesResponse } from \"ApiModel\";\nimport { createAsyncAction } from \"typesafe-actions\";\n\nexport const loadClassesAsync = createAsyncAction(\n    'LOAD_CLASSES_REQUEST',\n    'LOAD_CLASSES_SUCCESS',\n    'LOAD_CLASSES_FAILURE'\n)<undefined, GetClassesResponse, string>();","import { GetScheduleResponse } from \"ApiModel\";\nimport { createAsyncAction } from \"typesafe-actions\";\n\nexport const loadScheduleAsync = createAsyncAction(\n    'LOAD_SCHEDULE_REQUEST',\n    'LOAD_SCHEDULE_SUCCESS',\n    'LOAD_SCHEDULE_FAILURE'\n)<string, GetScheduleResponse, string>();","\n// NOTE(pawelp): using 'number' here is okay since we're not expecting \n// arguments larger than sqrt(2^53-1) (Number.MAX_SAFE_INTEGER). In reality we're expecting ~thousands here at any time?\n\n\nfunction gcd(x: number, y: number): number {\n    if (y > x) {\n        return gcd(y, x);\n    }\n    if (y == 0) {\n        return x;\n    }\n    return gcd(y, x % y);\n}\n\nexport function lcm(an: number[]): number {\n    if (an.length == 0) { throw Error('You need to pass at least one number!'); }\n    if (an.length == 1) return an[0];\n    if (an.length == 2) return (an[0] * an[1]) / gcd(an[0], an[1]);\n\n    const last = an.pop();\n    const lcm_rec = lcm(an);\n    return (last! * lcm_rec) / gcd(last!, lcm_rec);\n}","import React, { FunctionComponent } from \"react\";\nimport { Lesson } from 'ApiModel';\nimport { Button, CssBaseline, Dialog, DialogActions, DialogContent, DialogTitle, Divider, List, ListItem, ListItemText } from \"@material-ui/core\";\nimport { prependOnceListener } from \"process\";\n\ntype HourDialogComponentOwnProps = {\n    lessons: Lesson[];\n    lessonNumber: number;\n    onClose: (() => void);\n    open: boolean;\n};\n\ntype LessonComponentProps = HourDialogComponentOwnProps;\n\n\nconst HourDialogComponent: FunctionComponent<LessonComponentProps> = ({ lessons, lessonNumber, onClose, open }) => {\n\n    const handleClose = () => {\n        onClose();\n    };\n    \n    return <>\n        <CssBaseline/>\n        <Dialog onClose={handleClose} aria-labelledby=\"lessons-list-dialog\" open={open} fullWidth>\n            <DialogTitle id=\"lessons-list-dialog-title\">Lekcja {lessonNumber}</DialogTitle>\n            <DialogContent>\n                <List>\n                    {lessons.map(lesson => (<>\n                        <ListItem key={lesson.subject + lesson.teacher + lesson.color}>\n                            <ListItemText\n                                primary={`${lesson.subject}${lesson.group ? \" - \" + lesson.group : \"\"}`}\n                                secondary={<>\n                                    <div>Nauczyciel: {lesson.teacher}</div>\n                                    <div>Sala: {lesson.classroom}</div>\n                                </>}\n                            />\n                        </ListItem>\n                        <Divider variant=\"inset\" component=\"li\" />\n                    </>\n                    ))}\n                </List>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleClose} color=\"primary\">Zamknij</Button>\n            </DialogActions>\n        </Dialog>\n    </>\n};\n\nexport default HourDialogComponent;","import { Typography } from '@material-ui/core';\nimport { Lesson } from 'ApiModel';\nimport React, { FunctionComponent, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport useFitText from 'use-fit-text';\nimport HourDialogComponent from './HourDialogComponent';\n\ntype LessonComponentOwnProps = {\n    lesson: Lesson;\n    height: string;\n    lessonsByHour: Lesson[][];\n};\n\ntype LessonComponentProps = LessonComponentOwnProps;\n\nconst LessonComponent: FunctionComponent<LessonComponentProps> = ({ lesson, height, lessonsByHour }) => {\n    const { fontSize, ref } = useFitText();\n    const [open, setOpen] = useState(false);\n    const [dialogData, setDialogData] = useState<Lesson[]>([]);\n    const [lessonNumber, setLessonNumber] = useState<number>(0);\n\n    const handleClose = () => {\n        setOpen(false);\n    }\n\n    const handleClick = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n        let currentTargetRect = e.currentTarget.getBoundingClientRect();\n        // console.log(e);\n        // console.log(currentTargetRect);\n        // console.log(e.pageX);\n        const clickXPosRelative = e.pageX - currentTargetRect.left;\n        const clickPositionFrac = clickXPosRelative / (currentTargetRect.right - currentTargetRect.left);\n        // console.log(clickPositionFrac);\n        const lessonDurationFrac = 1 / lesson.duration;\n        const xD = Math.floor(clickPositionFrac / lessonDurationFrac);\n        // console.log(xD)\n\n        if (e.target === ref.current ||\n            (e.target instanceof Node && ref.current.contains(e.target))) {\n            setDialogData(lessonsByHour[lesson.time_index + xD]);\n            setLessonNumber(lesson.time_index + xD);\n            setOpen(true);\n        }\n    }\n\n    return <div style={{ fontSize, height: height, overflow: 'hidden' }} ref={ref} onClick={handleClick}>\n        <div style={{ textAlign: 'left' }}>{lesson.subject} {lesson.group}</div>\n        <div style={{ textAlign: 'center' }}>{lesson.teacher}</div>\n        <div style={{ textAlign: 'right' }}>{lesson.classroom}</div>\n        <HourDialogComponent lessons={dialogData} lessonNumber={lessonNumber} onClose={handleClose} open={open} />\n    </div>;\n};\n\nexport default LessonComponent;","import React, { FunctionComponent } from \"react\";\nimport { DaySchedule, Lesson } from 'ApiModel';\nimport { format } from \"date-fns\";\nimport { lcm } from \"../../../utils/math-utils\";\nimport LessonComponent from \"../hourTimetable/LessonComponent\";\nimport { pl } from \"date-fns/locale\";\nimport useFitText from \"use-fit-text\";\nimport { NumberLiteralType } from \"typescript\";\n\nfunction getLessonsByHour(dayTimetable: DaySchedule) {\n    const lessonsByHour = [...Array(11)].map(() => Array<Lesson>());\n\n    // console.log(lessonsByHour);\n    dayTimetable.flat().map(lesson => {\n        for (let i = 0; i < lesson.duration; i++) {\n            // console.log(lesson);\n            lessonsByHour[lesson.time_index + i].push(lesson);\n        }\n    });\n    return lessonsByHour;\n}\n\ntype DayTimetableOwnProps = {\n    dayTimetable: DaySchedule;\n    dayIdx: number;\n    currentWeekInterval: Date[];\n};\n\ntype DayTimetableProps = DayTimetableOwnProps;\n\ntype PositionData = {\n    width: number,\n};\n\ntype ProcessedLesson = Lesson & PositionData;\n\ntype ProcessedHourSlot = {\n    lessons: Array<ProcessedLesson>; // lessons that start at current slot. Sorted by (time_index+duration, subject) descending.\n    totalWidth: number;\n    ceil: number;\n    floor: number;\n}\n\ntype CellPositionData = {\n    top: number;\n    bottom: number;\n}\n\nfunction getProcessedHourSlots(dayTimetable: DaySchedule, lessonsByHour: Lesson[][]): Array<ProcessedHourSlot> {\n    const maxCongetsion = Array(11).fill(0);\n    // console.log(lessonsByHour);\n    for (let i = 0; i < 11; ++i) {\n        maxCongetsion[i] = lessonsByHour[i].length;\n    }\n\n    // console.log(maxCongetsion);\n\n    const totalWidth = lcm(maxCongetsion.filter(val => val != 0));\n\n    const processedHourSlot = dayTimetable.map(hourSchedule => {\n        const processedLessons = hourSchedule.map(lesson => { return lesson as ProcessedLesson });\n\n        processedLessons.sort((a, b) => {\n            const aLen = a.time_index + a.duration - 1;\n            const bLen = b.time_index + b.duration - 1;\n            if (aLen == bLen) {\n                return a.subject.localeCompare(b.subject);\n            }\n            return aLen > bLen ? -1 : 1;\n        });\n        return {\n            lessons: processedLessons,\n            totalWidth: totalWidth,\n            ceil: totalWidth,\n            floor: 0,\n        } as ProcessedHourSlot;\n    });\n    const remainingWidth = Array(11).fill(totalWidth);\n    /// calculate remaining width for each slot individually!!!!\n    for (const hourSlot of processedHourSlot) {\n        for (const lesson of hourSlot.lessons) {\n            const lessonStart = lesson.time_index, lessonEnd = lesson.time_index + lesson.duration;\n            const lessonMaxCongestion = Math.max(...maxCongetsion.slice(lessonStart, lessonEnd));\n            let width = totalWidth + 1;\n            for (let i = lessonStart; i < lessonEnd; ++i) {\n                width = Math.min(width, Math.floor(remainingWidth[i] / maxCongetsion[i]));\n            }\n            // const width = Math.floor(Math.max(...remainingWidth.slice(lessonStart, lessonEnd)) / lessonMaxCongestion);\n            // console.log(`maxCong: ${lessonMaxCongestion}, remainingW: ${hourSlot.reamainingWidth}`);\n            lesson.width = width;\n            for (let i = lessonStart; i < lessonEnd; ++i) {\n                maxCongetsion[i]--;\n                remainingWidth[i] -= width;\n            }\n        }\n    }\n\n    return processedHourSlot;\n}\n\nconst DayTimetableComponent: FunctionComponent<DayTimetableProps> = ({ dayTimetable, dayIdx, currentWeekInterval }) => {\n    const { fontSize, ref } = useFitText();\n    if (!dayTimetable) {\n        return <div></div>;\n    }\n    // console.log(dayTimetable.flat());\n    const lessonsByHour = getLessonsByHour(dayTimetable);\n    // console.log(lessonsByHour);\n    const processedHourSlots = getProcessedHourSlots(dayTimetable, lessonsByHour);\n\n    const gridRows = processedHourSlots.length > 0 ? processedHourSlots[0].totalWidth : 1;\n\n    const remainingWidth = Array<CellPositionData>(11);\n    for (let i = 0; i < 11; ++i) {\n        remainingWidth[i] = {\n            bottom: 1,\n            top: gridRows + 1,\n        };\n    }\n    let fromBottom: boolean = true;\n    // console.log(remainingWidth);\n    const ToComps = processedHourSlots.map(hourSlot => {\n        const result = [];\n        for (const lesson of hourSlot.lessons) {\n            // console.log(`Processing: $`)\n            let cellFreeSpace = remainingWidth[lesson.time_index];\n            let gridRowStart, gridRowEnd;\n            if (fromBottom) {\n                gridRowStart = cellFreeSpace.bottom;\n                gridRowEnd = cellFreeSpace.bottom + lesson.width;\n            } else {\n                gridRowEnd = cellFreeSpace.top;\n                gridRowStart = cellFreeSpace.top - lesson.width;\n            }\n            // console.log(`fromBottom: ${fromBottom} lesson:`);\n            // console.log(lesson);\n            // console.log(`gridRowStart: ${gridRowStart}, gridRowEnd: ${gridRowEnd}`);\n\n            result.push(<div style={\n                {\n                    backgroundColor: `${lesson.color}`,\n                    gridRow: `${gridRowStart.toString()} / ${gridRowEnd.toString()}`,\n                    gridColumn: `${(lesson.time_index + 1).toString()} / ${(lesson.time_index + lesson.duration + 1).toString()}`,\n\n                }}>\n                <LessonComponent lesson={lesson} height={(15 * lesson.width / gridRows) + 'vh'} lessonsByHour={lessonsByHour} />\n            </div>);\n            for (let i = lesson.time_index; i < lesson.time_index + lesson.duration; i++) {\n                if (fromBottom) {\n                    remainingWidth[i].bottom = gridRowEnd;\n                } else {\n                    remainingWidth[i].top = gridRowStart;\n                }\n            }\n            // console.log(remainingWidth);\n            fromBottom = !fromBottom;\n        }\n        return result;\n    })\n    // TODO(pawelp): handle empty processedhourslots\n    return <>\n        <div style={{ textOverflow: 'ellipsis', overflow: 'hidden', whiteSpace: 'nowrap' }}>\n            {format(currentWeekInterval[dayIdx], \"iii\", { locale: pl })}\n        </div>\n        <div style={{ display: 'grid', gridTemplateColumns: `repeat(11, calc(90vw/11))`, columnGap: '1px', gridTemplateRows: `repeat(${gridRows}, calc(15vh/${gridRows}))` }}>\n            {ToComps.flat()}\n        </div>\n        {/* {lessonsByHour.map((hour, idx) => <HourTimetableComponent slotIdx={idx} hourTimetable={hour} />)} */}\n    </>;\n};\n\nexport default DayTimetableComponent;\n","import { Box } from \"@material-ui/core\";\nimport { addMinutes, format } from \"date-fns\";\nimport React, { FunctionComponent } from \"react\";\nimport useFitText from \"use-fit-text\";\n\ntype HeaderSlotComponentProps = {\n    lessonIdx: number;\n    startOfLesson: number;\n}\n\nconst HeaderSlotComponent: FunctionComponent<HeaderSlotComponentProps> = ({ lessonIdx, startOfLesson }) => {\n    const { fontSize, ref } = useFitText();\n    return <Box height=\"5vh\" overflow=\"hidden\" whiteSpace=\"nowrap\" textOverflow=\"elipsis\">\n        <div style={{ fontSize }} ref={ref}>\n            <div>{lessonIdx.toString()}</div>\n            <div>{format(startOfLesson, \"HH:mm\") + \"-\" + format(addMinutes(startOfLesson, 45), \"HH:mm\")}</div>\n        </div>\n    </Box>\n}\n\n\nexport default HeaderSlotComponent;","import { Box } from \"@material-ui/core\";\nimport { addMinutes, format } from \"date-fns\";\nimport React, { FunctionComponent } from \"react\";\nimport { start } from \"repl\";\nimport useFitText from \"use-fit-text\";\nimport HeaderSlotComponent from \"./HeaderSlotComponent\";\n\n\ntype TimetableHeaderOwnProps = {\n};\n\nconst TimetableHeaderComponent: FunctionComponent<TimetableHeaderOwnProps> = () => {\n    const {fontSize, ref} = useFitText();\n    // todo(pawelp): this is ugly. Probably should extract this data somewhere else (e.g. to redux).\n    const startOfLessonArray = [\n        '7:10', '8:00', '9:00', '10:00', '11:00', '12:00', '13:00', '14:00', '14:50', '15:40', '16:30',\n    ];\n    return <>\n        <div></div>\n        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(11, calc(90vw/11))', columnGap: '1px' }}>\n            {startOfLessonArray.map(startOfLesson => {\n                const hm = startOfLesson.split(':');\n                return new Date().setHours(parseInt(hm[0]), parseInt(hm[1]));\n            }).map((startOfLesson, idx) => <HeaderSlotComponent lessonIdx={idx} startOfLesson={startOfLesson}/>)}\n        </div>\n    </>;\n};\n\n\nexport default TimetableHeaderComponent;","import { Box, Container, makeStyles } from \"@material-ui/core\";\nimport { eachDayOfInterval } from \"date-fns\";\nimport { endOfWeek, startOfWeek } from \"date-fns/esm\";\nimport React, { FunctionComponent, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { RouteComponentProps, useParams } from \"react-router-dom\";\nimport { RootState } from \"typesafe-actions\";\nimport { loadClassesAsync } from \"../../store/classes/actions\";\nimport { loadClassesEpic } from \"../../store/classes/epics\";\nimport { loadScheduleAsync } from \"../../store/schedule/actions\";\nimport DayTimetableComponent from \"./dayTimetable/DayTimetableComponent\";\nimport TimetableHeaderComponent from \"./timetableHeader/TimetableHeaderComponent\";\n\n\nconst mapStateToProps = (state: RootState) => ({\n    schedule: state.schedule.schedule,\n});\n\nconst dispatchProps = {\n    loadSchedule: loadScheduleAsync.request,\n    loadClasses: loadClassesAsync.request,\n}\n\ntype ScheduleParams = {\n    classParam: string,\n}\n\ntype ScheduleProps = ReturnType<typeof mapStateToProps> & typeof dispatchProps;\n\nconst useStyles = makeStyles((theme) => ({\n    timetableWrapper: {\n        display: 'grid',\n        gridAutoFlow: 'rows',\n        gridTemplateColumns: '7vw 90vw',\n        gridTemplateRows: '5vh repeat(5, 15vh)',\n        rowGap: '1px',\n        margin: theme.spacing(2, 1, 2, 1),\n    },\n}));\n\nconst TimetableComponent: FunctionComponent<ScheduleProps> = ({ schedule, loadSchedule, loadClasses }) => {\n    console.log(\"Am I even here?\");\n    const classParam = useParams<ScheduleParams>().classParam;\n    console.log(classParam);\n    useEffect(() => { loadClasses(); }, [loadClasses]);\n    useEffect(() => { loadSchedule(classParam); }, [loadSchedule, classParam]);\n    const classes = useStyles();\n    const today = new Date();\n    const days: Date[] = eachDayOfInterval({\n        start: startOfWeek(today, { weekStartsOn: 1 }),\n        end: endOfWeek(today, { weekStartsOn: 1 }),\n    });\n\n    return <Box className={classes.timetableWrapper}>\n        <TimetableHeaderComponent />\n        {Array.from(Array(5).keys()).map(dayIdx => <DayTimetableComponent dayTimetable={schedule[dayIdx]} dayIdx={dayIdx} currentWeekInterval={days} />)}\n        {/* Class param: {classParam} */}\n        {/* Schedule: */}\n        {/* {JSON.stringify(schedule)} */}\n    </Box>;\n}\n\n\nexport default connect(mapStateToProps, dispatchProps)(TimetableComponent);","import { Container } from \"@material-ui/core\";\nimport React from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  useRouteMatch,\n  useParams,\n  HashRouter\n} from \"react-router-dom\";\nimport PageFooterComponent from \"./components/PageFooterComponent\";\nimport PageHeaderComponent from \"./components/PageHeaderComponent\";\nimport TimetableComponent from \"./components/timetable/TimetableComponent\";\n\n\n\nexport default function App() {\n  return (\n    <HashRouter basename={\"/\"}>\n      {/* <div>\n        <ul>\n          <li>\n          <Link to=\"/\">Home</Link>\n          </li>\n          <li>\n            <Link to=\"/about\">About</Link>\n          </li>\n          <li>\n            <Link to=\"/topics\">Topics</Link>\n          </li>\n          <li>\n            <Link to=\"/schedule\">Schedule</Link>\n          </li>\n        </ul> */}\n\n      <Switch>\n        <Route path=\"/about\">\n          <About />\n        </Route>\n        <Route path=\"/topics\">\n          <Topics />\n        </Route>\n        <Route path=\"/schedule/:classParam\">\n          <div style={{display: 'flex', flexDirection: 'column', height: '100vh'}}>\n            <div style={{flex: \"1 0 auto\"}}>\n              <PageHeaderComponent />\n              <TimetableComponent />\n            </div>\n            <PageFooterComponent />\n          </div>\n        </Route>\n        <Route path=\"/\">\n          <Home />\n        </Route>\n      </Switch>\n      {/* </div> */}\n    </HashRouter>\n  );\n}\n\nfunction Home() {\n  return <h2>\n    Home basename\n    <Link to=\"/schedule/2E\">Schedule</Link>\n  </h2>;\n}\n\nconst About = () => {\n  return <h2>About</h2>;\n}\n\nfunction Topics() {\n  let match = useRouteMatch();\n\n  return (\n    <div>\n      <h2>Topics</h2>\n\n      <ul>\n        <li>\n          <Link to={`${match.url}/components`}>Components</Link>\n        </li>\n        <li>\n          <Link to={`${match.url}/props-v-state`}>\n            Props v. State\n          </Link>\n        </li>\n      </ul>\n\n      {/* The Topics page has its own <Switch> with more routes\n          that build on the /topics URL path. You can think of the\n          2nd <Route> here as an \"index\" page for all topics, or\n          the page that is shown when no topic is selected */}\n      <Switch>\n        <Route path={`${match.path}/:topicId`}>\n          <Topic />\n        </Route>\n        <Route path={match.path}>\n          <h3>Please select a topic.</h3>\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n\ninterface TopicParams {\n  topicId: string,\n};\n\nfunction Topic() {\n  let { topicId } = useParams<TopicParams>();\n  return <h3>Requested topic ID: {topicId}</h3>;\n}\n\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { combineReducers } from 'redux';\nimport { ScheduleStatus, WeekSchedule } from \"ApiModel\";\nimport { createReducer, RootAction, RootState } from 'typesafe-actions';\nimport { loadScheduleAsync } from \"./actions\";\n\nexport const isLoadingSchedule = createReducer({ loading: true, error: false } as ScheduleStatus)\n    .handleAction(loadScheduleAsync.request, () => ({ loading: true, error: false } as ScheduleStatus))\n    .handleAction(loadScheduleAsync.failure, () => ({ loading: false, error: true } as ScheduleStatus))\n    .handleAction(loadScheduleAsync.success, (state, action) => {\n        return {loading: false, error: !action.payload.success} as ScheduleStatus;\n    });\n\nexport const schedule = createReducer([] as WeekSchedule)\n    .handleAction(loadScheduleAsync.success, (state, action) => action.payload.resp ? action.payload.resp : []);\n\nconst scheduleReducer = combineReducers({\n    isLoadingSchedule,\n    schedule\n});\n\nexport default scheduleReducer;\nexport type ScheduleState = ReturnType<typeof scheduleReducer>;","import { loadClassesAsync } from './actions';\nimport { combineReducers } from 'redux';\nimport { ClassesStatus } from \"ApiModel\";\nimport { createReducer } from 'typesafe-actions';\n\nexport const isLoadingClasses = createReducer({ loading: true, error: false } as ClassesStatus)\n    .handleAction(loadClassesAsync.request, () => ({ loading: true, error: false } as ClassesStatus))\n    .handleAction(loadClassesAsync.failure, () => ({ loading: false, error: true } as ClassesStatus))\n    .handleAction(loadClassesAsync.success, (state, action) => {\n        return { loading: false, error: !action.payload.success } as ClassesStatus;\n    });\n\nexport const classes = createReducer([] as string[])\n    .handleAction(loadClassesAsync.success, (state, action) => action.payload.resp ? action.payload.resp : []);\n\nconst classesReducer = combineReducers({\n    isLoadingClasses,\n    classes,\n});\n\nexport default classesReducer;\nexport type ClassesState = ReturnType<typeof classesReducer>;","\nimport { combineReducers } from 'redux';\nimport scheduleReducer from './schedule/reducer';\nimport classesReducer from './classes/reducer';\n\nconst rootReducer = combineReducers({\n  schedule: scheduleReducer,\n  classes: classesReducer,\n});\n\nexport default rootReducer;\n","import { loadScheduleAsync } from './actions';\nimport { Epic } from 'redux-observable';\nimport { RootAction, RootState, Services, isActionOf } from 'typesafe-actions';\nimport { from, of } from 'rxjs';\nimport { filter, switchMap, map, catchError } from 'rxjs/operators';\n\nexport const loadScheduleEpic: Epic<\n    RootAction,\n    RootAction,\n    RootState,\n    Services\n> = (action$, state$, { api }) => action$.pipe(\n    filter(isActionOf(loadScheduleAsync.request)),\n    switchMap((action) =>\n        from(api.schedule.getSchedule(action.payload)).pipe(\n            map(loadScheduleAsync.success),\n            catchError((message: string) => of(loadScheduleAsync.failure(message))\n            )\n        )\n    )\n);","import { loadClassesAsync } from './actions';\nimport { Epic } from \"redux-observable\";\nimport { catchError, filter, map, switchMap } from \"rxjs/operators\";\nimport { isActionOf, RootAction, RootState, Services } from \"typesafe-actions\";\nimport { from, of } from 'rxjs';\n\nexport const loadClassesEpic: Epic<\n    RootAction,\n    RootAction,\n    RootState,\n    Services\n> = (action$, state$, { api }) => action$.pipe(\n    filter(isActionOf(loadClassesAsync.request)),\n    switchMap(() =>\n        from(api.schedule.getClasses()).pipe(\n            map(loadClassesAsync.success),\n            catchError((message: string) => of(loadClassesAsync.failure(message))\n            )\n        )\n    )\n);","import { combineEpics } from 'redux-observable';\n\nimport * as scheduleEpics from './schedule/epics';\nimport * as classesEpics from './classes/epics';\n\nexport default combineEpics(\n    ...Object.values(scheduleEpics),\n    ...Object.values(classesEpics),\n);\n","import { GetScheduleResponse, GetClassesResponse } from \"ApiModel\";\n\n\nexport function getSchedule(classParam: string): Promise<GetScheduleResponse> {\n    return fetch(`https://sabat.dev/api/tta?c=${classParam}&o=0`)\n        .then(response => response.json());\n}\n\nexport function getClasses(): Promise<GetClassesResponse> {\n    return fetch(`https://sabat.dev/api/cla`)\n        .then(response => response.json());\n}","import * as schedule from './schedule-api';\n\nexport default {\n    api: {\n        schedule,\n    },\n};","import { createStore, applyMiddleware } from 'redux';\nimport { createEpicMiddleware } from 'redux-observable';\nimport { RootAction, RootState, Services } from 'typesafe-actions';\n\nimport rootReducer from './root-reducer';\nimport rootEpic from './root-epic';\nimport services from '../services';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nexport const epicMiddleware = createEpicMiddleware<\n  RootAction,\n  RootAction,\n  RootState,\n  Services\n>({\n  dependencies: services,\n});\n\n// configure middlewares\nconst middlewares = [epicMiddleware];\n// compose enhancers\nconst enhancer = composeWithDevTools(applyMiddleware(...middlewares));\n\n// rehydrate state on app start\nconst initialState = {};\n\n// create store\nconst store = createStore(rootReducer, enhancer);\nepicMiddleware.run(rootEpic);\n\n// export store singleton instance\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core';\n\nconst theme = createMuiTheme({\n  overrides: {\n    MuiCssBaseline: {\n      '@global': {\n        body: {\n          '-webkit-text-size-adjust': 'none',\n          'text-size-adjust': 'none',\n          '-moz-text-size-adjust': 'none',\n          '-ms-text-size-adjuist': 'none',\n        },\n        '*': {\n          '--scrollbarBG': '#CFD8DC',\n          '--thumbBG': '#90A4AE',\n          scrollbarWidth: 'thin',\n          scrollbarColor: 'var(--thumbBG) var(--scrollbarBG)',\n        },\n        '*::-webkit-scrollbar': {\n          width: '11px',\n        },\n        '*::-webkit-scrollbar-track': {\n          background: 'var(--scrollbarBG)',\n        },\n        '*::-webkit-scrollbar-thumb': {\n          backgroundColor: 'var(--thumbBG)',\n          bordeRadius: '6px',\n          border: '3px solid var(--scrollbarBG)',\n        }\n      }\n    }\n  }\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <ThemeProvider theme={theme}>\n        <App />\n      </ThemeProvider>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}