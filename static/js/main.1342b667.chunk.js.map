{"version":3,"sources":["components/PageFooterComponent.tsx","store/preferences/actions.ts","components/PageHeaderComponent.tsx","store/classes/actions.ts","store/schedule/actions.ts","utils/math-utils.ts","utils/string-uitls.ts","components/timetable/hourTimetable/HourDialogComponent.tsx","components/timetable/hourTimetable/LessonComponent.tsx","components/timetable/dayTimetable/DayTimetableComponent.tsx","components/timetable/timetableHeader/HeaderSlotComponent.tsx","components/timetable/timetableHeader/TimetableHeaderComponent.tsx","components/timetable/TimetableComponent.tsx","App.tsx","reportWebVitals.ts","store/schedule/reducer.ts","store/classes/reducer.ts","store/preferences/reducer.ts","store/root-reducer.ts","store/schedule/epics.ts","store/classes/epics.ts","store/root-epic.ts","services/schedule-api.ts","services/index.ts","store/index.ts","index.tsx"],"names":["useStyles","makeStyles","theme","footer","backgroundColor","palette","background","paper","flexShrink","footerText","paddingRight","spacing","float","breakpoints","down","fontSize","PageFooterComponent","classes","className","Typography","variant","align","gutterBottom","Link","target","href","color","setTheme","createAction","getThemeIcon","themeClicked","IconButton","aria-label","onClick","getClassesMenuContent","availableClasses","classesStatus","menuItemClicked","classParam","skeletonStyle","loading","Skeleton","width","animation","error","map","cla","MenuItem","selected","toolbar","borderBottom","divider","toolbarTitle","margin","flex","sectionDesktop","display","up","sectionMobile","dispatchProps","withRouter","connect","state","isLoadingClasses","preferences","history","React","useState","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","open","Boolean","mobileOpen","handleClick","event","currentTarget","handleClose","useParams","mobileMenuId","renderMobileMenu","Menu","anchorOrigin","vertical","horizontal","id","keepMounted","transformOrigin","onClose","Tooltip","title","arrow","component","Toolbar","Box","alignSelf","Button","endIcon","PaperProps","style","maxHeight","push","noWrap","aria-controls","aria-haspopup","loadClassesAsync","createAsyncAction","loadScheduleAsync","gcd","x","y","lcm","an","length","Error","last","pop","lcm_rec","capitalizeFirstLetter","s","locale","navigator","language","charAt","toLocaleUpperCase","slice","HourDialogComponent","lessons","lessonNumber","dayIndex","currentWeekInterval","CssBaseline","Dialog","aria-labelledby","fullWidth","DialogTitle","format","pl","DialogContent","List","lesson","ListItem","ListItemText","primary","subject","group","secondary","teacher","classroom","Divider","DialogActions","lessonTile","padding","textStyle","LessonComponent","hexcolor","height","lessonsByHour","useFitText","logLevel","ref","setOpen","dialogData","setDialogData","setLessonNumber","textColor","split","hex","join","parseInt","substr","overflow","flexDirection","e","currentTargetRect","getBoundingClientRect","clickPositionFrac","pageX","left","right","lessonDurationFrac","duration","xD","Math","floor","current","Node","contains","time_index","textAlign","day_index","getProcessedHourSlots","dayTimetable","maxCongetsion","Array","fill","i","totalWidth","filter","val","processedHourSlot","hourSchedule","processedLessons","sort","a","b","aLen","bLen","localeCompare","ceil","remainingWidth","hourSlot","lessonStart","lessonEnd","min","DayTimetableComponent","dayIdx","flat","getLessonsByHour","processedHourSlots","gridRows","bottom","top","fromBottom","ToComps","result","cellFreeSpace","gridRowStart","gridRowEnd","gridRow","toString","gridColumn","textOverflow","whiteSpace","gridTemplateColumns","columnGap","gridTemplateRows","HeaderSlotComponent","lessonIdx","startOfLesson","addMinutes","TimetableHeaderComponent","hm","Date","setHours","idx","loadSchedule","request","loadClasses","timetableWrapper","gridAutoFlow","rowGap","transform","scheduleStatus","schedule","isLoadingSchedule","console","log","useEffect","today","days","eachDayOfInterval","start","startOfWeek","weekStartsOn","end","endOfWeek","from","keys","preferredTheme","useMediaQuery","computedTheme","useMemo","createMuiTheme","type","overrides","MuiCssBaseline","body","scrollbarWidth","scrollbarColor","bordeRadius","border","ThemeProvider","path","to","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","createReducer","handleAction","failure","success","action","payload","resp","scheduleReducer","combineReducers","classesReducer","themeReducer","preferencesReducer","persistConfig","key","storage","whitelist","rootReducer","persistCombineReducers","loadScheduleEpic","action$","state$","api","pipe","isActionOf","switchMap","getSchedule","catchError","message","of","loadClassesEpic","getClasses","combineEpics","Object","values","scheduleEpics","classesEpics","fetch","response","json","apis","epicMiddleware","createEpicMiddleware","dependencies","services","middlewares","enhancer","composeWithDevTools","applyMiddleware","store","createStore","run","rootEpic","persistor","persistStore","ReactDOM","render","StrictMode","CircularProgress","document","getElementById"],"mappings":";ghBAGMA,EAAYC,aAAW,SAACC,GAAD,MAAY,CACrCC,OAAQ,CACJC,gBAAiBF,EAAMG,QAAQC,WAAWC,MAC1CC,WAAY,GAEhBC,WAAW,aACPC,aAAcR,EAAMS,QAAQ,GAC5BC,MAAO,SACNV,EAAMW,YAAYC,KAAK,MAAQ,CAC5BC,SAAU,YAsBPC,EAjBgC,WAC3C,IAAMC,EAAUjB,IAChB,OAAO,wBAAQkB,UAAWD,EAAQd,OAA3B,SAEH,cAACgB,EAAA,EAAD,CAAYC,QAAQ,UAAUC,MAAM,SAASC,cAAY,EAAzD,SACI,sBAAKJ,UAAWD,EAAQR,WAAxB,UACI,cAACc,EAAA,EAAD,CAAMC,OAAO,SAASC,KAAK,0DAA0DC,MAAM,YAA3F,gDADJ,kBAII,cAACH,EAAA,EAAD,CAAMC,OAAO,SAASC,KAAK,gCAAgCC,MAAM,YAAjE,wBAJJ,oBAKmB,cAACH,EAAA,EAAD,CAAMC,OAAO,SAASC,KAAK,4BAA4BC,MAAM,YAA7D,4B,8ICzBlBC,EAAWC,uBAAa,YAAbA,G,uECclBC,EAAe,SAAC3B,EAAe4B,GACjC,MAAc,UAAV5B,EACO,cAAC6B,EAAA,EAAD,CAAYC,aAAW,eAAeN,MAAM,UAAUO,QAASH,EAA/D,SACH,cAAE,IAAF,MAGG,cAACC,EAAA,EAAD,CAAYC,aAAW,eAAeN,MAAM,UAAUO,QAASH,EAA/D,SACH,cAAE,IAAF,OAKNI,EAAwB,SAC1BC,EAA4BC,EAA8BC,EAA8CC,EAAoBC,GAE5H,OAAIH,EAAcI,QACP,qCACH,cAACC,EAAA,EAAD,CAAUC,MAAM,MAAMxB,UAAWqB,EAAeI,UAAU,SAC1D,cAACF,EAAA,EAAD,CAAUC,MAAM,MAAMxB,UAAWqB,EAAeI,UAAU,SAC1D,cAACF,EAAA,EAAD,CAAUC,MAAM,MAAMxB,UAAWqB,EAAeI,UAAU,YAEvDP,EAAcQ,MACd,gCACH,cAAC,IAAD,CAAWlB,MAAM,UACjB,cAACP,EAAA,EAAD,CAAYC,QAAQ,UAAUM,MAAM,QAApC,8GAKD,8BACFS,EAAiBU,KAAI,SAAAC,GAAG,OAAI,cAACC,EAAA,EAAD,CAAoBd,QAASI,EAAgBS,GAAME,SAAUF,IAAQR,EAArE,SAAkFQ,GAAnEA,SAI9C9C,EAAYC,aAAW,SAACC,GAAD,MAAY,CACrC+C,QAAS,CACLC,aAAa,aAAD,OAAehD,EAAMG,QAAQ8C,UAE7CC,aAAa,aACTC,OAAQnD,EAAMS,QAAQ,GACtB2C,KAAM,GACLpD,EAAMW,YAAYC,KAAK,MAAQ,CAC5BC,SAAU,SAGlBwC,eAAe,aACXC,QAAS,QACRtD,EAAMW,YAAY4C,GAAG,MAAQ,CAC1BD,QAAS,SAGjBE,cAAc,aACVF,QAAS,QACRtD,EAAMW,YAAY4C,GAAG,MAAQ,CAC1BD,QAAS,SAGjBjB,cAAe,CACXc,OAAQnD,EAAMS,QAAQ,QAUxBgD,EAAgB,CAClBhC,SAAUA,GAkJCiC,cAAWC,aAzJF,SAACC,GAAD,MAAuB,CAC3C3B,iBAAkB2B,EAAM7C,QAAQA,QAChCmB,cAAe0B,EAAM7C,QAAQ8C,iBAC7BC,YAAaF,EAAME,eAsJ4BL,EAAzBE,EAzIsC,SAAC,GAAyE,IAAvE1B,EAAsE,EAAtEA,iBAAkBC,EAAoD,EAApDA,cAAe4B,EAAqC,EAArCA,YAAarC,EAAwB,EAAxBA,SAAUsC,EAAc,EAAdA,QAAc,EACrGC,IAAMC,SAA6B,MADkE,mBAC9HC,EAD8H,KACpHC,EADoH,OAEjFH,IAAMC,SAA6B,MAF8C,mBAE9HG,EAF8H,KAE1GC,EAF0G,KAI/HC,EAAOC,QAAQL,GACfM,EAAaD,QAAQH,GAGrBK,EAAc,SAACC,GACjBP,EAAYO,EAAMC,gBAGhBC,EAAc,WAChBT,EAAY,OAQVvC,EAAe,WACS,SAAtBkC,EAAY9D,MACZyB,EAAS,SAETA,EAAS,SAIXV,EAAUjB,IACVsC,EAAayC,cAA0BzC,WAKvC0C,EAAe,qCAKfC,EACF,eAACC,EAAA,EAAD,CACId,SAAUE,EACVa,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAC7CC,GAAIN,EACJO,aAAW,EACXC,gBAAiB,CAAEJ,SAAU,MAAOC,WAAY,SAChDb,KAAME,EACNe,QAhBsB,WAC1BlB,EAAsB,OAQtB,UASI,cAACxB,EAAA,EAAD,UACKlB,EAAamC,EAAY9D,MAAO4B,KAErC,cAACiB,EAAA,EAAD,UACI,cAAC2C,EAAA,EAAD,CAASC,MAAO,4BAAwB3D,aAAY,wBAAyB4D,OAAK,EAAlF,SACI,cAAC7D,EAAA,EAAD,CAAYC,aAAW,gBAAgBN,MAAM,UAAUmE,UAAU,IAAIpE,KAAK,8EAA8ED,OAAO,SAA/J,SACI,cAAC,IAAD,UAIZ,cAACuB,EAAA,EAAD,UACI,cAAC2C,EAAA,EAAD,CAASC,MAAO,YAAa3D,aAAY,sBAAuB4D,OAAK,EAArE,SACI,cAAC7D,EAAA,EAAD,CAAYC,aAAW,cAAcN,MAAM,UAAUmE,UAAU,IAAIpE,KAAK,yCAAyCD,OAAO,SAAxH,SACI,cAAC,IAAD,aAQpB,OAAO,eAACsE,EAAA,EAAD,CAAS5E,UAAWD,EAAQgC,QAA5B,UACH,eAAC8C,EAAA,EAAD,CAAKC,UAAU,OAAf,UACI,cAACC,EAAA,EAAD,CACI/E,UAAWD,EAAQsC,eACnBnC,QAAQ,YACRM,MAAM,UACNO,QAAS0C,EACTuB,QAAS,cAAC,IAAD,IALb,gCAQA,cAACnE,EAAA,EAAD,CAAYE,QAAS0C,EAAajD,MAAM,UAAUR,UAAWD,EAAQyC,cAArE,SACI,cAAC,IAAD,MAEJ,cAACwB,EAAA,EAAD,CACII,GAAG,eACHlB,SAAUA,EACVmB,aAAW,EACXf,KAAMA,EACNiB,QAASX,EACTqB,WAAY,CACRC,MAAO,CACHC,UAAW,SARvB,SAWKnE,EAAsBC,EAAkBC,GA/E7B,SAACU,GAAD,OAAkB,WACtCgC,IACAb,EAAQqC,KAAR,UAAgBxD,OA6EiER,EAAYrB,EAAQsB,oBAGrG,eAACpB,EAAA,EAAD,CACI0E,UAAU,KACVzE,QAAQ,KACRM,MAAM,UACNL,MAAM,SACNkF,QAAM,EACNrF,UAAWD,EAAQmC,aANvB,gCAQmBd,KAEnB,sBAAKpB,UAAWD,EAAQsC,eAAxB,UACK1B,EAAamC,EAAY9D,MAAO4B,GACjC,cAAC4D,EAAA,EAAD,CAASC,MAAO,4BAAwB3D,aAAY,wBAAyB4D,OAAK,EAAlF,SACI,cAAC7D,EAAA,EAAD,CAAYC,aAAW,gBAAgBN,MAAM,UAAUmE,UAAU,IAAIpE,KAAK,8EAA8ED,OAAO,SAA/J,SACI,cAAC,IAAD,QAIR,cAACkE,EAAA,EAAD,CAASC,MAAO,YAAa3D,aAAY,sBAAuB4D,OAAK,EAArE,SACI,cAAC7D,EAAA,EAAD,CAAYC,aAAW,cAAcN,MAAM,UAAUmE,UAAU,IAAIpE,KAAK,yCAAyCD,OAAO,SAAxH,SACI,cAAC,IAAD,WAIZ,sBAAKN,UAAWD,EAAQyC,cAAxB,UACI,cAAC3B,EAAA,EAAD,CACIC,aAAW,YACXwE,gBAAexB,EACfyB,gBAAc,OACdxE,QA3FiB,SAAC2C,GAC1BL,EAAsBK,EAAMC,gBA2FpBnD,MAAM,UALV,SAOI,cAAC,IAAD,MAEHuD,Y,8BC/NAyB,GAAmBC,4BAC5B,uBACA,uBACA,uBAH4BA,GCAnBC,GAAoBD,4BAC7B,wBACA,wBACA,wBAH6BA,G,6BCEjC,SAASE,GAAIC,EAAWC,GACpB,OAAIA,EAAID,EACGD,GAAIE,EAAGD,GAER,IAANC,EACOD,EAEJD,GAAIE,EAAGD,EAAIC,GAGf,SAASC,GAAIC,GAChB,GAAkB,IAAdA,EAAGC,OAAgB,MAAMC,MAAM,yCACnC,GAAkB,IAAdF,EAAGC,OAAc,OAAOD,EAAG,GAC/B,GAAkB,IAAdA,EAAGC,OAAc,OAAQD,EAAG,GAAKA,EAAG,GAAMJ,GAAII,EAAG,GAAIA,EAAG,IAE5D,IAAMG,EAAOH,EAAGI,MACVC,EAAUN,GAAIC,GACpB,OAAQG,EAAQE,EAAWT,GAAIO,EAAOE,G,kHCrBnC,SAASC,GAAsBC,GAAyC,IAA9BC,EAA6B,uDAApBC,UAAUC,SAClE,OAAOH,EAAEI,OAAO,GAAGC,kBAAkBJ,GAAUD,EAAEM,MAAM,GCiBzD,IAqCeC,GArCsD,SAAC,GAA6E,IAA3EC,EAA0E,EAA1EA,QAASC,EAAiE,EAAjEA,aAAcC,EAAmD,EAAnDA,SAAUzC,EAAyC,EAAzCA,QAASjB,EAAgC,EAAhCA,KAAM2D,EAA0B,EAA1BA,oBACpH,IAAIH,EACA,OAAO,wBAEX,IAAMlD,EAAc,WAChBW,KAEJ,OAAO,qCACH,cAAC2C,EAAA,EAAD,IACA,eAACC,GAAA,EAAD,CAAQ5C,QAASX,EAAawD,kBAAgB,sBAAsB9D,KAAMA,EAAM+D,WAAS,EAAzF,UACI,eAACC,GAAA,EAAD,CAAalD,GAAG,4BAAhB,UACKiC,GAAsBkB,aAAON,EAAoBD,GAAW,OAAQ,CAAET,OAAQiB,QADnF,aACqGT,KAErG,cAACU,GAAA,EAAD,UACI,cAACC,GAAA,EAAD,UACKZ,EAAQnF,KAAI,SAAAgG,GAAM,OAAK,qCACpB,cAACC,GAAA,EAAD,UACI,cAACC,GAAA,EAAD,CACIC,QAAO,UAAKH,EAAOI,SAAZ,OAAsBJ,EAAOK,MAAQ,MAAQL,EAAOK,MAAQ,IACnEC,UAAW,qCACP,+CAAkBN,EAAOO,WACzB,yCAAYP,EAAOQ,mBALhBR,EAAOI,QAAUJ,EAAOO,QAAUP,EAAOnH,OASxD,cAAC4H,GAAA,EAAD,CAASlI,QAAQ,QAAQyE,UAAU,iBAK/C,cAAC0D,GAAA,EAAD,UACI,cAACtD,EAAA,EAAD,CAAQhE,QAAS6C,EAAapD,MAAM,UAApC,8BCjCV1B,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCsJ,WAAY,CACRC,QAASvJ,EAAMS,QAAQ,KAE3B+I,UAAW,OAqDAC,GA/CkD,SAAC,GAA4D,IHOjGC,EGPuCf,EAAyD,EAAzDA,OAAQgB,EAAiD,EAAjDA,OAAQC,EAAyC,EAAzCA,cAAe3B,EAA0B,EAA1BA,oBAA0B,EAC/F4B,KAAW,CAACC,SAAU,SAAxCjJ,EADiH,EACjHA,SAAUkJ,EADuG,EACvGA,IADuG,EAEjG9F,oBAAS,GAFwF,mBAElHK,EAFkH,KAE5G0F,EAF4G,OAGrF/F,mBAAmB,IAHkE,mBAGlHgG,EAHkH,KAGtGC,EAHsG,OAIjFjG,mBAAiB,GAJgE,mBAIlH8D,EAJkH,KAIpGoC,EAJoG,KA6BnHpJ,EAAUjB,KACVsK,GHpBoB,OAHDV,EGuBKf,EAAOnH,OHpB3BoG,MAAM,EAAG,KACrB8B,EAAWA,EAAS9B,MAAM,IAIH,IAApB8B,EAAS1C,SACZ0C,EAAWA,EAASW,MAAM,IAAI1H,KAAI,SAAU2H,GAC3C,OAAOA,EAAMA,KACXC,KAAK,MASO,IALRC,SAASd,EAASe,OAAO,EAAE,GAAG,IAKV,IAJpBD,SAASd,EAASe,OAAO,EAAE,GAAG,IAIE,IAHhCD,SAASd,EAASe,OAAO,EAAE,GAAG,KAGU,KAGjC,GAAM,QAAU,SGE5B,OAAO,sBAAKvE,MAAO,CACfrF,WAAU8I,OAAQA,EAAQe,SAAU,SAAUpH,QAAS,OAAQqH,cAAe,UAC/EZ,IAAKA,EAAKhI,QAxBO,SAAC6I,GACjB,IAAIC,EAAoBD,EAAEjG,cAAcmG,wBAKlCC,GADoBH,EAAEI,MAAQH,EAAkBI,OACPJ,EAAkBK,MAAQL,EAAkBI,MAErFE,EAAqB,EAAIxC,EAAOyC,SAChCC,EAAKC,KAAKC,MAAMR,EAAoBI,IAGtCP,EAAEtJ,SAAWyI,EAAIyB,SAChBZ,EAAEtJ,kBAAkBmK,MAAQ1B,EAAIyB,QAAQE,SAASd,EAAEtJ,WACpD4I,EAAcN,EAAcjB,EAAOgD,WAAaN,IAChDlB,EAAgBxB,EAAOgD,WAAaN,GACpCrB,GAAQ,KAQmBhJ,UAAWD,EAAQuI,WAF/C,UAGH,qBAAKpD,MAAO,CACR0F,UAAW,OAAQxI,KAAM,WAAY5B,MAAO4I,GAC7CpJ,UAAWD,EAAQyI,UAFtB,SAEkCb,EAAOO,UACzC,qBAAKhD,MAAO,CAAE0F,UAAW,SAAUxI,KAAM,WAAY5B,MAAO4I,GAAapJ,UAAWD,EAAQyI,UAA5F,SAAwGb,EAAOI,UAC/G,sBAAK7C,MAAO,CAAE5F,WAAY,EAAGkB,MAAO4I,GAAapJ,UAAWD,EAAQyI,UAApE,UACI,qBAAKtD,MAAO,CAAExF,MAAO,OAAQkL,UAAW,QAAxC,SAAmDjD,EAAOQ,YAC1D,qBAAKjD,MAAO,CAAExF,MAAO,QAASkL,UAAW,SAAzC,SAAqDjD,EAAOK,WAEhE,cAAC,GAAD,CAAqBlB,QAASmC,EAAYlC,aAAcA,EAAcC,SAAUW,EAAOkD,UAAWtG,QArClF,WAChByE,GAAQ,IAoCgH1F,KAAMA,EAAM2D,oBAAqBA,QCzBjK,SAAS6D,GAAsBC,EAA2BnC,GAGtD,IAFA,IAAMoC,EAAgBC,MAAM,IAAIC,KAAK,GAE5BC,EAAI,EAAGA,EAAI,KAAMA,EACtBH,EAAcG,GAAKvC,EAAcuC,GAAGnF,OAKxC,IAT2G,EASrGoF,EAAatF,GAAIkF,EAAcK,QAAO,SAAAC,GAAG,OAAY,IAARA,MAE7CC,EAAoBR,EAAapJ,KAAI,SAAA6J,GACvC,IAAMC,EAAmBD,EAAa7J,KAAI,SAAAgG,GAAY,OAAOA,KAU7D,OARA8D,EAAiBC,MAAK,SAACC,EAAGC,GACtB,IAAMC,EAAOF,EAAEhB,WAAagB,EAAEvB,SAAW,EACnC0B,EAAOF,EAAEjB,WAAaiB,EAAExB,SAAW,EACzC,OAAIyB,IAASC,EACFH,EAAE5D,QAAQgE,cAAcH,EAAE7D,SAE9B8D,EAAOC,GAAQ,EAAI,KAEvB,CACHhF,QAAS2E,EACTL,WAAYA,EACZY,KAAMZ,EACNb,MAAO,MAGT0B,EAAiBhB,MAAM,IAAIC,KAAKE,GA7BqE,eA+BpFG,GA/BoF,IA+B3G,2BAA0C,CAAC,IAAD,EAA/BW,EAA+B,uBACjBA,EAASpF,SADQ,IACtC,2BAAuC,CAGnC,IAHoC,IAA7Ba,EAA4B,QAC7BwE,EAAcxE,EAAOgD,WAAYyB,EAAYzE,EAAOgD,WAAahD,EAAOyC,SAC1E5I,EAAQ4J,EAAa,EAChBD,EAAIgB,EAAahB,EAAIiB,IAAajB,EACvC3J,EAAQ8I,KAAK+B,IAAI7K,EAAO8I,KAAKC,MAAM0B,EAAed,GAAKH,EAAcG,KAIzExD,EAAOnG,MAAQA,EACf,IAAK,IAAI2J,EAAIgB,EAAahB,EAAIiB,IAAajB,EACvCH,EAAcG,KACdc,EAAed,IAAM3J,GAZS,gCA/BiE,8BAgD3G,OAAO+J,EAGX,IAsEee,GAtEqD,SAAC,GAAmD,IAAjDvB,EAAgD,EAAhDA,aAAcwB,EAAkC,EAAlCA,OAAQtF,EAA0B,EAA1BA,oBACzF,IAAK8D,EACD,OAAO,wBAUX,IAPA,IAAMnC,EA9FV,SAA0BmC,GACtB,IAAMnC,EAAgB,aAAIqC,MAAM,KAAKtJ,KAAI,kBAAMsJ,WAQ/C,OALAF,EAAayB,OAAO7K,KAAI,SAAAgG,GACpB,IAAK,IAAIwD,EAAI,EAAGA,EAAIxD,EAAOyC,SAAUe,IACjCvC,EAAcjB,EAAOgD,WAAaQ,GAAG/F,KAAKuC,MAG3CiB,EAqFe6D,CAAiB1B,GAEjC2B,EAAqB5B,GAAsBC,EAAcnC,GAEzD+D,EAAWD,EAAmB1G,OAAS,EAAI0G,EAAmB,GAAGtB,WAAa,EAE9Ea,EAAiBhB,MAAwB,IACtCE,EAAI,EAAGA,EAAI,KAAMA,EACtBc,EAAed,GAAK,CAChByB,OAAQ,EACRC,IAAKF,EAAW,GAGxB,IAAIG,GAAsB,EAEpBC,EAAUL,EAAmB/K,KAAI,SAAAuK,GACnC,IAD+C,EACzCc,EAAS,GADgC,eAE1Bd,EAASpF,SAFiB,IAE/C,2BAAuC,CAAC,IAA7Ba,EAA4B,QAE/BsF,EAAgBhB,EAAetE,EAAOgD,YACtCuC,OAAY,EAAEC,OAAU,EACxBL,GACAI,EAAeD,EAAcL,OAC7BO,EAAaF,EAAcL,OAASjF,EAAOnG,QAE3C2L,EAAaF,EAAcJ,IAC3BK,EAAeD,EAAcJ,IAAMlF,EAAOnG,OAM9CwL,EAAO5H,KAAK,qBAAKF,MACb,CACIhG,gBAAgB,GAAD,OAAKyI,EAAOnH,OAC3B4M,QAAQ,GAAD,OAAKF,EAAaG,WAAlB,cAAkCF,EAAWE,YACpDC,WAAW,GAAD,QAAM3F,EAAOgD,WAAa,GAAG0C,WAA7B,eAA8C1F,EAAOgD,WAAahD,EAAOyC,SAAW,GAAGiD,aAJ7F,SAOR,cAAC,GAAD,CAAiB1F,OAAQA,EAAQgB,OAAS,GAAKhB,EAAOnG,MAAQmL,EAAY,KAAM/D,cAAeA,EAAe3B,oBAAqBA,OAEvI,IAAK,IAAIkE,EAAIxD,EAAOgD,WAAYQ,EAAIxD,EAAOgD,WAAahD,EAAOyC,SAAUe,IACjE2B,EACAb,EAAed,GAAGyB,OAASO,EAE3BlB,EAAed,GAAG0B,IAAMK,EAIhCJ,GAAcA,GAlC6B,8BAoC/C,OAAOE,KAGX,OAAO,qCACH,qBAAK9H,MAAO,CAAEqI,aAAc,WAAY7D,SAAU,SAAU8D,WAAY,UAAxE,SACKjG,aAAON,EAAoBsF,GAAS,MAAO,CAAEhG,OAAQiB,SAE1D,qBAAKtC,MAAO,CAAE5C,QAAS,OAAQmL,oBAAoB,4BAA8BC,UAAW,MAAOC,iBAAiB,UAAD,OAAYhB,EAAZ,uBAAmCA,EAAnC,OAAnH,SACKI,EAAQP,a,UC3INoB,GAX0D,SAAC,GAAkC,IAAhCC,EAA+B,EAA/BA,UAAWC,EAAoB,EAApBA,cAAoB,EAC7EjF,OAAlBhJ,EAD+F,EAC/FA,SAAUkJ,EADqF,EACrFA,IAClB,OAAO,cAAClE,EAAA,EAAD,CAAK8D,OAAO,MAAMe,SAAS,SAAS8D,WAAW,SAASD,aAAa,UAArE,SACH,sBAAKrI,MAAO,CAAErF,YAAYkJ,IAAKA,EAA/B,UACI,8BAAM8E,EAAUR,aAChB,8BAAM9F,aAAOuG,EAAe,SAAW,IAAMvG,aAAOwG,aAAWD,EAAe,IAAK,iBCShFE,GAjB8D,WAKzE,OAAO,qCACH,wBACA,qBAAK9I,MAAO,CAAE5C,QAAS,OAAQmL,oBAAqB,4BAA6BC,UAAW,OAA5F,SALuB,CACvB,OAAQ,OAAQ,OAAQ,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,SAK/D/L,KAAI,SAAAmM,GACpB,IAAMG,EAAKH,EAAczE,MAAM,KAC/B,OAAO,IAAI6E,MAAOC,SAAS3E,SAASyE,EAAG,IAAKzE,SAASyE,EAAG,QACzDtM,KAAI,SAACmM,EAAeM,GAAhB,OAAwB,cAAC,GAAD,CAAqBP,UAAWO,EAAKN,cAAeA,aCCzFrL,GAAgB,CAClB4L,aAAc3I,GAAkB4I,QAChCC,YAAa/I,GAAiB8I,SAS5BxP,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCwP,iBAAkB,CACdlM,QAAS,OACTmM,aAAc,OACdhB,oBAAqB,WACrBE,iBAAkB,sBAClBe,OAAQ,MACRvM,OAAQnD,EAAMS,QAAQ,EAAG,EAAG,EAAG,IAEnC4B,cAAe,CACXsN,UAAW,QACXvB,QAAS,QACTE,WAAY,aAsCL3K,gBAlES,SAACC,GAAD,MAAuB,CAC3CgM,eAAgBhM,EAAMiM,SAASC,kBAC/BD,SAAUjM,EAAMiM,SAASA,YAgEWpM,GAAzBE,EAlC8C,SAAC,GAA6D,IAA3DiM,EAA0D,EAA1DA,eAAgBC,EAA0C,EAA1CA,SAAUR,EAAgC,EAAhCA,aAAcE,EAAkB,EAAlBA,YACpGQ,QAAQC,IAAI,mBACZ,IAAM5N,EAAayC,cAA4BzC,WAC/C2N,QAAQC,IAAI5N,GACZ6N,qBAAU,WAAQV,MAAkB,CAACA,IACrCU,qBAAU,WAAQZ,EAAajN,KAAgB,CAACiN,EAAcjN,IAC9D,IAAMrB,EAAUjB,KAEVoQ,EAAQ,IAAIhB,KACZiB,EAAeC,aAAkB,CACnCC,MAAOC,aAAYJ,EAAO,CAAEK,aAAc,IAC1CC,IAAKC,aAAUP,EAAO,CAAEK,aAAc,MAG1C,OAAO,eAAC1K,EAAA,EAAD,CAAK7E,UAAWD,EAAQyO,iBAAxB,UACH,cAAC,GAAD,IACCI,EAAetN,QACV,cAACC,EAAA,EAAD,CAAUvB,UAAWD,EAAQsB,cAAeI,UAAU,SACtDmN,EAAelN,MACb,qCACI,cAAC,IAAD,CAAWlB,MAAM,UACjB,cAACP,EAAA,EAAD,CAAYC,QAAQ,KAAKM,MAAM,QAA/B,uHAIFyK,MAAMyE,KAAKzE,MAAM,GAAG0E,QAAQhO,KAAI,SAAA4K,GAAM,OAAI,cAAC,GAAD,CAAuBxB,aAAc8D,EAAStC,GAASA,OAAQA,EAAQtF,oBAAqBkI,aCpDlJ1M,GAAgB,CACpBhC,SAAUA,GAwEGkC,gBA7ES,SAACC,GAAD,MAAuB,CAC7CE,YAAaF,EAAME,eA4EmBL,GAAzBE,EAlE0B,SAAC,GAA+B,IAA7BG,EAA4B,EAA5BA,YAAarC,EAAe,EAAfA,SACjDmP,EAAiBC,YAAc,gCAAkC,OAAS,QACtD,KAAtB/M,EAAY9D,OACdyB,EAASmP,GAGX,IAAME,EAAsC,KAAtBhN,EAAY9D,MAAe4Q,EAAiB9M,EAAY9D,MAExEA,EAAQgE,IAAM+M,SAAQ,kBAAMC,YAAe,CAC/C7Q,QAAS,CACP8Q,KAAOH,GAETI,UAAW,CACTC,eAAgB,CACd,UAAW,CACTC,KAAM,CACJ,2BAA4B,OAC5B,mBAAoB,OACpB,wBAAyB,OACzB,wBAAyB,QAE3B,IAAK,CACH,gBAAiB,UACjB,YAAa,UACbC,eAAgB,OAChBC,eAAgB,qCAElB,uBAAwB,CACtB9O,MAAO,QAET,6BAA8B,CAC5BpC,WAAY,sBAEd,6BAA8B,CAC5BF,gBAAiB,iBACjBqR,YAAa,MACbC,OAAQ,uCAKd,CAACV,IAEL,OACE,eAACW,EAAA,EAAD,CAAezR,MAAOA,EAAtB,UACE,cAACkI,EAAA,EAAD,IACA,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOwJ,KAAK,yBAAZ,SACE,sBAAKxL,MAAO,CAAE5C,QAAS,OAAQqH,cAAe,SAAUhB,OAAQ,SAAhE,UACE,sBAAKzD,MAAO,CAAE9C,KAAM,YAApB,UACE,cAAC,EAAD,IACA,cAAC,GAAD,OAEF,cAAC,EAAD,SAGJ,cAAC,IAAD,CAAOsO,KAAK,IAAZ,SACE,cAAC,IAAD,CAAUC,GAAG,+BCtEVC,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,O,mBCJD/B,GAAoBuC,wBAAc,CAAE/P,SAAS,EAAMI,OAAO,IAClE4P,aAAa5L,GAAkB4I,SAAS,iBAAO,CAAEhN,SAAS,EAAMI,OAAO,MACvE4P,aAAa5L,GAAkB6L,SAAS,iBAAO,CAAEjQ,SAAS,EAAOI,OAAO,MACxE4P,aAAa5L,GAAkB8L,SAAS,SAAC5O,EAAO6O,GAC7C,MAAO,CAACnQ,SAAS,EAAOI,OAAQ+P,EAAOC,QAAQF,YAG1C3C,GAAWwC,wBAAc,IACjCC,aAAa5L,GAAkB8L,SAAS,SAAC5O,EAAO6O,GAAR,OAAmBA,EAAOC,QAAQC,KAAOF,EAAOC,QAAQC,KAAO,MAO7FC,GALSC,2BAAgB,CACpC/C,qBACAD,cCZShM,GAAmBwO,wBAAc,CAAE/P,SAAS,EAAMI,OAAO,IACjE4P,aAAa9L,GAAiB8I,SAAS,iBAAO,CAAEhN,SAAS,EAAMI,OAAO,MACtE4P,aAAa9L,GAAiB+L,SAAS,iBAAO,CAAEjQ,SAAS,EAAOI,OAAO,MACvE4P,aAAa9L,GAAiBgM,SAAS,SAAC5O,EAAO6O,GAC5C,MAAO,CAAEnQ,SAAS,EAAOI,OAAQ+P,EAAOC,QAAQF,YAG3CzR,GAAUsR,wBAAc,IAChCC,aAAa9L,GAAiBgM,SAAS,SAAC5O,EAAO6O,GAAR,OAAmBA,EAAOC,QAAQC,KAAOF,EAAOC,QAAQC,KAAO,MAO5FG,GALQD,2BAAgB,CACnChP,oBACA9C,aCZSgS,GAAeV,wBAAc,IACrCC,aAAa7Q,GAAU,SAACmC,EAAO6O,GAC5B,OAAOA,EAAOC,WAOPM,GAJYH,2BAAgB,CACvC7S,MAAO+S,K,+BCLLE,GAAgB,CACpBC,IAAK,OACLC,aACAC,UAAW,CAAC,gBAQCC,GANKC,aAAuBL,GAAe,CACxDpD,SAAU+C,GACV7R,QAAS+R,GACThP,YAAakP,K,qECRFO,GAKT,SAACC,EAASC,EAAV,OAAoBC,EAApB,EAAoBA,IAApB,OAA8BF,EAAQG,KACtCtH,aAAOuH,qBAAWlN,GAAkB4I,UACpCuE,cAAU,SAACpB,GAAD,OACN/B,aAAKgD,EAAI7D,SAASiE,YAAYrB,EAAOC,UAAUiB,KAC3ChR,aAAI+D,GAAkB8L,SACtBuB,cAAW,SAACC,GAAD,OAAqBC,aAAGvN,GAAkB6L,QAAQyB,aCV5DE,GAKT,SAACV,EAASC,EAAV,OAAoBC,EAApB,EAAoBA,IAApB,OAA8BF,EAAQG,KACtCtH,aAAOuH,qBAAWpN,GAAiB8I,UACnCuE,cAAU,kBACNnD,aAAKgD,EAAI7D,SAASsE,cAAcR,KAC5BhR,aAAI6D,GAAiBgM,SACrBuB,cAAW,SAACC,GAAD,OAAqBC,aAAGzN,GAAiB+L,QAAQyB,aCXzDI,QAAY,WAAZ,eACRC,OAAOC,OAAOC,IADN,oBAERF,OAAOC,OAAOE,MCJd,SAASV,GAAY1R,GACxB,OAAOqS,MAAM,+BAAD,OAAgCrS,EAAhC,SACP2P,MAAK,SAAA2C,GAAQ,OAAIA,EAASC,UAG5B,SAASR,KACZ,OAAOM,MAAM,6BACR1C,MAAK,SAAA2C,GAAQ,OAAIA,EAASC,UCRnC,IAMeC,GANF,CACTlB,IAAK,CACD7D,a,UCKKgF,GAAiBC,aAK5B,CACAC,aAAcC,KAIVC,GAAc,CAACJ,IAEfK,GAAWC,+BAAoBC,mBAAe,WAAf,EAAmBH,KAMlDI,GAAQC,uBAAYjC,GAAa6B,IACvCL,GAAeU,IAAIC,IAGJH,U,oBCpBTI,GAAYC,aAAaL,IAE/BM,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAUR,MAAOA,GAAjB,SACE,cAAC,KAAD,CAAa/S,QAAS,cAACwT,GAAA,EAAD,IAAsBL,UAAWA,GAAvD,SACE,cAAC,GAAD,UAINM,SAASC,eAAe,SAM1BpE,O","file":"static/js/main.1342b667.chunk.js","sourcesContent":["import { Link, makeStyles, Typography } from \"@material-ui/core\";\nimport React, { FunctionComponent } from \"react\";\n\nconst useStyles = makeStyles((theme) => ({\n    footer: {\n        backgroundColor: theme.palette.background.paper,\n        flexShrink: 0,\n    },\n    footerText: {\n        paddingRight: theme.spacing(1),\n        float: 'right',\n        [theme.breakpoints.down('md')]: {\n            fontSize: '70%',\n        }\n    },\n}));\n\nconst PageFooterComponent: FunctionComponent = () => {\n    const classes = useStyles();\n    return <footer className={classes.footer}>\n        {/* <Container maxWidth=\"lg\"> */}\n        <Typography variant=\"caption\" align=\"center\" gutterBottom>\n            <div className={classes.footerText}>\n                <Link target=\"_blank\" href=\"https://github.com/Cloud11665/sabat.dev/tree/master/api\" color=\"secondary\">\n                    API rozkładu zajęć </Link>\n                    stworzone przez\n                <Link target=\"_blank\" href=\"https://github.com/Cloud11665\" color=\"secondary\">Cloud11665</Link>, \n                Frontend przez <Link target=\"_blank\" href=\"https://github.com/qepasa\" color=\"secondary\">qepasa</Link>\n            </div>\n        </Typography>\n        {/* </Container> */}\n    </footer>;\n};\n\nexport default PageFooterComponent;","import { createAction } from \"typesafe-actions\";\n\nexport const setTheme = createAction('SET_THEME')<string>();","import { Box, Button, IconButton, makeStyles, Menu, MenuItem, Toolbar, Tooltip, Typography } from \"@material-ui/core\";\nimport React, { FunctionComponent } from \"react\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport { RouteComponentProps, useParams, withRouter } from \"react-router-dom\";\nimport SchoolIcon from '@material-ui/icons/School';\nimport { RootState } from \"typesafe-actions\";\nimport { connect } from \"react-redux\";\nimport MailIcon from '@material-ui/icons/Mail';\nimport GitHubIcon from '@material-ui/icons/GitHub';\nimport { setTheme } from \"../store/preferences/actions\";\nimport NightsStayIcon from '@material-ui/icons/NightsStay';\nimport WbSunnyIcon from '@material-ui/icons/WbSunny';\nimport { ClassesStatus } from \"ApiModel\";\nimport ErrorIcon from '@material-ui/icons/Error';\nimport MoreIcon from '@material-ui/icons/MoreVert';\n\nconst getThemeIcon = (theme: string, themeClicked: () => void) => {\n    if (theme === 'light') {\n        return <IconButton aria-label=\"theme-button\" color=\"inherit\" onClick={themeClicked}>\n            < NightsStayIcon />\n        </IconButton>;\n    } else {\n        return <IconButton aria-label=\"theme-button\" color=\"inherit\" onClick={themeClicked}>\n            < WbSunnyIcon />\n        </IconButton>;\n    }\n}\n\nconst getClassesMenuContent = (\n    availableClasses: string[], classesStatus: ClassesStatus, menuItemClicked: (c: string) => (() => void), classParam: string, skeletonStyle: string,\n) => {\n    if (classesStatus.loading) {\n        return <>\n            <Skeleton width=\"3vw\" className={skeletonStyle} animation=\"wave\"/>\n            <Skeleton width=\"3vw\" className={skeletonStyle} animation=\"wave\"/>\n            <Skeleton width=\"3vw\" className={skeletonStyle} animation=\"wave\"/>\n        </>\n    } else if (classesStatus.error) {\n        return <div>\n            <ErrorIcon color=\"error\" />\n            <Typography variant=\"caption\" color=\"error\">\n                Wystąpił błąd podczas ładowania klas. Odśwież stronę.\n            </Typography>\n        </div>\n    }\n    return <div>\n        {availableClasses.map(cla => <MenuItem key={cla} onClick={menuItemClicked(cla)} selected={cla === classParam}>{cla}</MenuItem>)}\n    </div>;\n}\n\nconst useStyles = makeStyles((theme) => ({\n    toolbar: {\n        borderBottom: `1px solid ${theme.palette.divider}`,\n    },\n    toolbarTitle: {\n        margin: theme.spacing(1),\n        flex: 1,\n        [theme.breakpoints.down('md')]: {\n            fontSize: '125%',\n        }\n    },\n    sectionDesktop: {\n        display: 'none',\n        [theme.breakpoints.up('md')]: {\n            display: 'flex',\n        },\n    },\n    sectionMobile: {\n        display: 'flex',\n        [theme.breakpoints.up('md')]: {\n            display: 'none',\n        },\n    },\n    skeletonStyle: {\n        margin: theme.spacing(1),\n    }\n}));\n\nconst mapStateToProps = (state: RootState) => ({\n    availableClasses: state.classes.classes,\n    classesStatus: state.classes.isLoadingClasses,\n    preferences: state.preferences\n});\n\nconst dispatchProps = {\n    setTheme: setTheme,\n};\n\ntype PageHeaderProps = ReturnType<typeof mapStateToProps> & typeof dispatchProps & RouteComponentProps;\n\ntype HeaderParams = {\n    classParam: string,\n};\n\nconst PageHeaderComponent: FunctionComponent<PageHeaderProps> = ({ availableClasses, classesStatus, preferences, setTheme, history }) => {\n    const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n    const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState<null | HTMLElement>(null);\n\n    const open = Boolean(anchorEl);\n    const mobileOpen = Boolean(mobileMoreAnchorEl);\n    // console.log(availableClasses);\n\n    const handleClick = (event: React.MouseEvent<HTMLElement>) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    const menuItemClicked = (cla: string) => (() => {\n        handleClose();\n        history.push(`${cla}`);\n    });\n\n    const themeClicked = () => {\n        if (preferences.theme === \"dark\") {\n            setTheme(\"light\")\n        } else {\n            setTheme(\"dark\");\n        }\n    }\n\n    const classes = useStyles();\n    const classParam = useParams<HeaderParams>().classParam;\n\n    const handleMobileMenuClose = () => {\n        setMobileMoreAnchorEl(null);\n    }\n    const mobileMenuId = 'primary-search-account-menu-mobile';\n    const handleMobileMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\n        setMobileMoreAnchorEl(event.currentTarget);\n    };\n\n    const renderMobileMenu = (\n        <Menu\n            anchorEl={mobileMoreAnchorEl}\n            anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n            id={mobileMenuId}\n            keepMounted\n            transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n            open={mobileOpen}\n            onClose={handleMobileMenuClose}\n        >\n            <MenuItem>\n                {getThemeIcon(preferences.theme, themeClicked)}\n            </MenuItem>\n            <MenuItem>\n                <Tooltip title={\"Wyślij do nas maila!\"} aria-label={\"send-feedback-tooltip\"} arrow>\n                    <IconButton aria-label=\"send-feedback\" color=\"inherit\" component=\"a\" href=\"mailto:feedback.vlorocks@gmail.com?subject=Zg%C5%82o%C5%9B%20B%C5%82%C4%85d\" target=\"_blank\">\n                        <MailIcon />\n                    </IconButton>\n                </Tooltip>\n            </MenuItem>\n            <MenuItem>\n                <Tooltip title={\"Kod. PogU\"} aria-label={\"github-repo-tooltip\"} arrow>\n                    <IconButton aria-label=\"github-repo\" color=\"inherit\" component=\"a\" href=\"https://github.com/qepasa/VLO-Schedule\" target=\"_blank\">\n                        <GitHubIcon />\n                    </IconButton>\n                </Tooltip>\n            </MenuItem>\n        </Menu>\n    );\n\n\n    return <Toolbar className={classes.toolbar}>\n        <Box alignSelf=\"left\">\n            <Button\n                className={classes.sectionDesktop}\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={handleClick}\n                endIcon={<SchoolIcon />}>\n                Wybierz klasę\n            </Button>\n            <IconButton onClick={handleClick} color=\"primary\" className={classes.sectionMobile}>\n                <SchoolIcon />\n            </IconButton>\n            <Menu\n                id=\"classes-menu\"\n                anchorEl={anchorEl}\n                keepMounted\n                open={open}\n                onClose={handleClose}\n                PaperProps={{\n                    style: {\n                        maxHeight: '70vh',\n                    }\n                }}>\n                {getClassesMenuContent(availableClasses, classesStatus, menuItemClicked, classParam, classes.skeletonStyle)}\n            </Menu>\n        </Box>\n        <Typography\n            component=\"h2\"\n            variant=\"h5\"\n            color=\"inherit\"\n            align=\"center\"\n            noWrap\n            className={classes.toolbarTitle}\n        >\n            Rozkład klasy {classParam}\n        </Typography>\n        <div className={classes.sectionDesktop}>\n            {getThemeIcon(preferences.theme, themeClicked)}\n            <Tooltip title={\"Wyślij do nas maila!\"} aria-label={\"send-feedback-tooltip\"} arrow>\n                <IconButton aria-label=\"send-feedback\" color=\"inherit\" component=\"a\" href=\"mailto:feedback.vlorocks@gmail.com?subject=Zg%C5%82o%C5%9B%20B%C5%82%C4%85d\" target=\"_blank\">\n                    <MailIcon />\n                </IconButton>\n            </Tooltip>\n\n            <Tooltip title={\"Kod. PogU\"} aria-label={\"github-repo-tooltip\"} arrow>\n                <IconButton aria-label=\"github-repo\" color=\"inherit\" component=\"a\" href=\"https://github.com/qepasa/VLO-Schedule\" target=\"_blank\">\n                    <GitHubIcon />\n                </IconButton>\n            </Tooltip>\n        </div>\n        <div className={classes.sectionMobile}>\n            <IconButton\n                aria-label=\"show more\"\n                aria-controls={mobileMenuId}\n                aria-haspopup=\"true\"\n                onClick={handleMobileMenuOpen}\n                color=\"inherit\"\n            >\n                <MoreIcon />\n            </IconButton>\n            {renderMobileMenu}\n        </div>\n    </Toolbar >\n};\n\nexport default withRouter(connect(mapStateToProps, dispatchProps)(PageHeaderComponent));","import { GetClassesResponse } from \"ApiModel\";\nimport { createAsyncAction } from \"typesafe-actions\";\n\nexport const loadClassesAsync = createAsyncAction(\n    'LOAD_CLASSES_REQUEST',\n    'LOAD_CLASSES_SUCCESS',\n    'LOAD_CLASSES_FAILURE'\n)<undefined, GetClassesResponse, string>();","import { GetScheduleResponse } from \"ApiModel\";\nimport { createAsyncAction } from \"typesafe-actions\";\n\nexport const loadScheduleAsync = createAsyncAction(\n    'LOAD_SCHEDULE_REQUEST',\n    'LOAD_SCHEDULE_SUCCESS',\n    'LOAD_SCHEDULE_FAILURE'\n)<string, GetScheduleResponse, string>();","\n// NOTE(pawelp): using 'number' here is okay since we're not expecting \n// arguments larger than sqrt(2^53-1) (Number.MAX_SAFE_INTEGER). In reality we're expecting ~thousands here at any time?\n\n\nfunction gcd(x: number, y: number): number {\n    if (y > x) {\n        return gcd(y, x);\n    }\n    if (y === 0) {\n        return x;\n    }\n    return gcd(y, x % y);\n}\n\nexport function lcm(an: number[]): number {\n    if (an.length === 0) { throw Error('You need to pass at least one number!'); }\n    if (an.length === 1) return an[0];\n    if (an.length === 2) return (an[0] * an[1]) / gcd(an[0], an[1]);\n\n    const last = an.pop();\n    const lcm_rec = lcm(an);\n    return (last! * lcm_rec) / gcd(last!, lcm_rec);\n}\n\n\n\n/*!\n * Get the contrasting color for any hex color\n * (c) 2019 Chris Ferdinandi, MIT License, https://gomakethings.com\n * Derived from work by Brian Suda, https://24ways.org/2010/calculating-color-contrast/\n * @param  {String} A hexcolor value\n * @return {String} The contrasting color (black or white)\n */\nexport function getContrast (hexcolor: string){\n\n\t// If a leading # is provided, remove it\n\tif (hexcolor.slice(0, 1) === '#') {\n\t\thexcolor = hexcolor.slice(1);\n\t}\n\n\t// If a three-character hexcode, make six-character\n\tif (hexcolor.length === 3) {\n\t\thexcolor = hexcolor.split('').map(function (hex) {\n\t\t\treturn hex + hex;\n\t\t}).join('');\n\t}\n\n\t// Convert to RGB value\n\tvar r = parseInt(hexcolor.substr(0,2),16);\n\tvar g = parseInt(hexcolor.substr(2,2),16);\n\tvar b = parseInt(hexcolor.substr(4,2),16);\n\n\t// Get YIQ ratio\n\tvar yiq = ((r * 299) + (g * 587) + (b * 114)) / 1000;\n\n\t// Check contrast\n\treturn (yiq >= 70) ? 'black' : 'white';\n};","\nexport function capitalizeFirstLetter(s: string, locale = navigator.language) {\n  return s.charAt(0).toLocaleUpperCase(locale) + s.slice(1);\n}","import React, { FunctionComponent } from \"react\";\nimport { Lesson } from 'ApiModel';\nimport { Button, CssBaseline, Dialog, DialogActions, DialogContent, DialogTitle, Divider, List, ListItem, ListItemText } from \"@material-ui/core\";\nimport { pl } from \"date-fns/locale\";\nimport { format } from \"date-fns\";\nimport { capitalizeFirstLetter } from \"../../../utils/string-uitls\";\n\ntype HourDialogComponentOwnProps = {\n    lessons: Lesson[];\n    lessonNumber: number;\n    dayIndex: number,\n    onClose: (() => void);\n    open: boolean;\n    currentWeekInterval: Date[];\n};\n\ntype LessonComponentProps = HourDialogComponentOwnProps;\n\n\nconst HourDialogComponent: FunctionComponent<LessonComponentProps> = ({ lessons, lessonNumber, dayIndex, onClose, open, currentWeekInterval }) => {\n    if(!lessons) {\n        return <div></div>;\n    }\n    const handleClose = () => {\n        onClose();\n    };\n    return <>\n        <CssBaseline />\n        <Dialog onClose={handleClose} aria-labelledby=\"lessons-list-dialog\" open={open} fullWidth>\n            <DialogTitle id=\"lessons-list-dialog-title\">\n                {capitalizeFirstLetter(format(currentWeekInterval[dayIndex], \"cccc\", { locale: pl }))} - lekcja {lessonNumber}\n            </DialogTitle>\n            <DialogContent>\n                <List>\n                    {lessons.map(lesson => (<>\n                        <ListItem key={lesson.subject + lesson.teacher + lesson.color}>\n                            <ListItemText\n                                primary={`${lesson.subject}${lesson.group ? \" - \" + lesson.group : \"\"}`}\n                                secondary={<>\n                                    <div>Nauczyciel: {lesson.teacher}</div>\n                                    <div>Sala: {lesson.classroom}</div>\n                                </>}\n                            />\n                        </ListItem>\n                        <Divider variant=\"inset\" component=\"li\" />\n                    </>\n                    ))}\n                </List>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleClose} color=\"primary\">Zamknij</Button>\n            </DialogActions>\n        </Dialog>\n    </>\n};\n\nexport default HourDialogComponent;","import { makeStyles, Typography } from '@material-ui/core';\nimport { Lesson } from 'ApiModel';\nimport React, { FunctionComponent, useState } from 'react';\nimport useFitText from 'use-fit-text';\nimport HourDialogComponent from './HourDialogComponent';\nimport { getContrast } from '../../../utils/math-utils';\n\ntype LessonComponentOwnProps = {\n    lesson: Lesson;\n    height: string;\n    lessonsByHour: Lesson[][];\n    currentWeekInterval: Date[];\n};\n\ntype LessonComponentProps = LessonComponentOwnProps;\n\n\nconst useStyles = makeStyles((theme) => ({\n    lessonTile: {\n        padding: theme.spacing(0.2),\n    },\n    textStyle: {\n        // NOTE(pawelp): fiddle with this if you want to make text colors fancy\n        // filter: 'invert(5%) contrast(200%) grayscale(170%) saturate(0%)'\n    }\n}));\n\nconst LessonComponent: FunctionComponent<LessonComponentProps> = ({ lesson, height, lessonsByHour, currentWeekInterval }) => {\n    const { fontSize, ref } = useFitText({logLevel: \"none\"});\n    const [open, setOpen] = useState(false);\n    const [dialogData, setDialogData] = useState<Lesson[]>([]);\n    const [lessonNumber, setLessonNumber] = useState<number>(0);\n\n    const handleClose = () => {\n        setOpen(false);\n    }\n\n    const handleClick = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n        let currentTargetRect = e.currentTarget.getBoundingClientRect();\n        // console.log(e);\n        // console.log(currentTargetRect);\n        // console.log(e.pageX);\n        const clickXPosRelative = e.pageX - currentTargetRect.left;\n        const clickPositionFrac = clickXPosRelative / (currentTargetRect.right - currentTargetRect.left);\n        // console.log(clickPositionFrac);\n        const lessonDurationFrac = 1 / lesson.duration;\n        const xD = Math.floor(clickPositionFrac / lessonDurationFrac);\n        // console.log(xD)\n\n        if (e.target === ref.current ||\n            (e.target instanceof Node && ref.current.contains(e.target))) {\n            setDialogData(lessonsByHour[lesson.time_index + xD]);\n            setLessonNumber(lesson.time_index + xD);\n            setOpen(true);\n        }\n    }\n    const classes = useStyles();\n    const textColor = getContrast(lesson.color);\n\n    return <div style={{\n        fontSize, height: height, overflow: 'hidden', display: 'flex', flexDirection: 'column'\n    }} ref={ref} onClick={handleClick} className={classes.lessonTile}>\n        <div style={{\n            textAlign: 'left', flex: \"1 0 auto\", color: textColor,\n        }} className={classes.textStyle}>{lesson.teacher}</div>\n        <div style={{ textAlign: 'center', flex: \"1 0 auto\", color: textColor }} className={classes.textStyle}>{lesson.subject}</div>\n        <div style={{ flexShrink: 0, color: textColor }} className={classes.textStyle}>\n            <div style={{ float: 'left', textAlign: 'left' }}>{lesson.classroom}</div>\n            <div style={{ float: 'right', textAlign: 'right' }}>{lesson.group}</div>\n        </div>\n        <HourDialogComponent lessons={dialogData} lessonNumber={lessonNumber} dayIndex={lesson.day_index} onClose={handleClose} open={open} currentWeekInterval={currentWeekInterval}/>\n    </div>;\n};\n\nexport default LessonComponent;","import React, { FunctionComponent } from \"react\";\nimport { DaySchedule, Lesson } from 'ApiModel';\nimport { format } from \"date-fns\";\nimport { lcm } from \"../../../utils/math-utils\";\nimport LessonComponent from \"../hourTimetable/LessonComponent\";\nimport { pl } from \"date-fns/locale\";\n\nfunction getLessonsByHour(dayTimetable: DaySchedule) {\n    const lessonsByHour = [...Array(11)].map(() => Array<Lesson>());\n\n    // console.log(lessonsByHour);\n    dayTimetable.flat().map(lesson => {\n        for (let i = 0; i < lesson.duration; i++) {\n            lessonsByHour[lesson.time_index + i].push(lesson);\n        }\n    });\n    return lessonsByHour;\n}\n\ntype DayTimetableOwnProps = {\n    dayTimetable: DaySchedule;\n    dayIdx: number;\n    currentWeekInterval: Date[];\n};\n\ntype DayTimetableProps = DayTimetableOwnProps;\n\ntype PositionData = {\n    width: number,\n};\n\ntype ProcessedLesson = Lesson & PositionData;\n\ntype ProcessedHourSlot = {\n    lessons: Array<ProcessedLesson>; // lessons that start at current slot. Sorted by (time_index+duration, subject) descending.\n    totalWidth: number;\n    ceil: number;\n    floor: number;\n}\n\ntype CellPositionData = {\n    top: number;\n    bottom: number;\n}\n\nfunction getProcessedHourSlots(dayTimetable: DaySchedule, lessonsByHour: Lesson[][]): Array<ProcessedHourSlot> {\n    const maxCongetsion = Array(11).fill(0);\n    // console.log(lessonsByHour);\n    for (let i = 0; i < 11; ++i) {\n        maxCongetsion[i] = lessonsByHour[i].length;\n    }\n\n    // console.log(maxCongetsion);\n\n    const totalWidth = lcm(maxCongetsion.filter(val => val !== 0));\n\n    const processedHourSlot = dayTimetable.map(hourSchedule => {\n        const processedLessons = hourSchedule.map(lesson => { return lesson as ProcessedLesson });\n\n        processedLessons.sort((a, b) => {\n            const aLen = a.time_index + a.duration - 1;\n            const bLen = b.time_index + b.duration - 1;\n            if (aLen === bLen) {\n                return a.subject.localeCompare(b.subject);\n            }\n            return aLen > bLen ? -1 : 1;\n        });\n        return {\n            lessons: processedLessons,\n            totalWidth: totalWidth,\n            ceil: totalWidth,\n            floor: 0,\n        } as ProcessedHourSlot;\n    });\n    const remainingWidth = Array(11).fill(totalWidth);\n    /// calculate remaining width for each slot individually!!!!\n    for (const hourSlot of processedHourSlot) {\n        for (const lesson of hourSlot.lessons) {\n            const lessonStart = lesson.time_index, lessonEnd = lesson.time_index + lesson.duration;\n            let width = totalWidth + 1;\n            for (let i = lessonStart; i < lessonEnd; ++i) {\n                width = Math.min(width, Math.floor(remainingWidth[i] / maxCongetsion[i]));\n            }\n            // const width = Math.floor(Math.max(...remainingWidth.slice(lessonStart, lessonEnd)) / lessonMaxCongestion);\n            // console.log(`maxCong: ${lessonMaxCongestion}, remainingW: ${hourSlot.reamainingWidth}`);\n            lesson.width = width;\n            for (let i = lessonStart; i < lessonEnd; ++i) {\n                maxCongetsion[i]--;\n                remainingWidth[i] -= width;\n            }\n        }\n    }\n\n    return processedHourSlot;\n}\n\nconst DayTimetableComponent: FunctionComponent<DayTimetableProps> = ({ dayTimetable, dayIdx, currentWeekInterval }) => {\n    if (!dayTimetable) {\n        return <div></div>;\n    }\n    // console.log(dayTimetable.flat());\n    const lessonsByHour = getLessonsByHour(dayTimetable);\n    // console.log(lessonsByHour);\n    const processedHourSlots = getProcessedHourSlots(dayTimetable, lessonsByHour);\n\n    const gridRows = processedHourSlots.length > 0 ? processedHourSlots[0].totalWidth : 1;\n\n    const remainingWidth = Array<CellPositionData>(11);\n    for (let i = 0; i < 11; ++i) {\n        remainingWidth[i] = {\n            bottom: 1,\n            top: gridRows + 1,\n        };\n    }\n    let fromBottom: boolean = true;\n    // console.log(remainingWidth);\n    const ToComps = processedHourSlots.map(hourSlot => {\n        const result = [];\n        for (const lesson of hourSlot.lessons) {\n            // console.log(`Processing: $`)\n            let cellFreeSpace = remainingWidth[lesson.time_index];\n            let gridRowStart, gridRowEnd;\n            if (fromBottom) {\n                gridRowStart = cellFreeSpace.bottom;\n                gridRowEnd = cellFreeSpace.bottom + lesson.width;\n            } else {\n                gridRowEnd = cellFreeSpace.top;\n                gridRowStart = cellFreeSpace.top - lesson.width;\n            }\n            // console.log(`fromBottom: ${fromBottom} lesson:`);\n            // console.log(lesson);\n            // console.log(`gridRowStart: ${gridRowStart}, gridRowEnd: ${gridRowEnd}`);\n\n            result.push(<div style={\n                {\n                    backgroundColor: `${lesson.color}`,\n                    gridRow: `${gridRowStart.toString()} / ${gridRowEnd.toString()}`,\n                    gridColumn: `${(lesson.time_index + 1).toString()} / ${(lesson.time_index + lesson.duration + 1).toString()}`,\n\n                }}>\n                <LessonComponent lesson={lesson} height={(15 * lesson.width / gridRows) + 'vh'} lessonsByHour={lessonsByHour} currentWeekInterval={currentWeekInterval} />\n            </div>);\n            for (let i = lesson.time_index; i < lesson.time_index + lesson.duration; i++) {\n                if (fromBottom) {\n                    remainingWidth[i].bottom = gridRowEnd;\n                } else {\n                    remainingWidth[i].top = gridRowStart;\n                }\n            }\n            // console.log(remainingWidth);\n            fromBottom = !fromBottom;\n        }\n        return result;\n    })\n    // TODO(pawelp): handle empty processedhourslots\n    return <>\n        <div style={{ textOverflow: 'ellipsis', overflow: 'hidden', whiteSpace: 'nowrap' }}>\n            {format(currentWeekInterval[dayIdx], \"iii\", { locale: pl })}\n        </div>\n        <div style={{ display: 'grid', gridTemplateColumns: `repeat(11, calc(90vw/11))`, columnGap: '1px', gridTemplateRows: `repeat(${gridRows}, calc(15vh/${gridRows}))` }}>\n            {ToComps.flat()}\n        </div>\n        {/* {lessonsByHour.map((hour, idx) => <HourTimetableComponent slotIdx={idx} hourTimetable={hour} />)} */}\n    </>;\n};\n\nexport default DayTimetableComponent;\n","import { Box } from \"@material-ui/core\";\nimport { addMinutes, format } from \"date-fns\";\nimport React, { FunctionComponent } from \"react\";\nimport useFitText from \"use-fit-text\";\n\ntype HeaderSlotComponentProps = {\n    lessonIdx: number;\n    startOfLesson: number;\n}\n\nconst HeaderSlotComponent: FunctionComponent<HeaderSlotComponentProps> = ({ lessonIdx, startOfLesson }) => {\n    const { fontSize, ref } = useFitText();\n    return <Box height=\"5vh\" overflow=\"hidden\" whiteSpace=\"nowrap\" textOverflow=\"elipsis\">\n        <div style={{ fontSize }} ref={ref}>\n            <div>{lessonIdx.toString()}</div>\n            <div>{format(startOfLesson, \"HH:mm\") + \"-\" + format(addMinutes(startOfLesson, 45), \"HH:mm\")}</div>\n        </div>\n    </Box>\n}\n\n\nexport default HeaderSlotComponent;","import React, { FunctionComponent } from \"react\";\nimport HeaderSlotComponent from \"./HeaderSlotComponent\";\n\n\ntype TimetableHeaderOwnProps = {\n};\n\nconst TimetableHeaderComponent: FunctionComponent<TimetableHeaderOwnProps> = () => {\n    // todo(pawelp): this is ugly. Probably should extract this data somewhere else (e.g. to redux).\n    const startOfLessonArray = [\n        '7:10', '8:00', '9:00', '10:00', '11:00', '12:00', '13:00', '14:00', '14:50', '15:40', '16:30',\n    ];\n    return <>\n        <div></div>\n        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(11, calc(90vw/11))', columnGap: '1px' }}>\n            {startOfLessonArray.map(startOfLesson => {\n                const hm = startOfLesson.split(':');\n                return new Date().setHours(parseInt(hm[0]), parseInt(hm[1]));\n            }).map((startOfLesson, idx) => <HeaderSlotComponent lessonIdx={idx} startOfLesson={startOfLesson}/>)}\n        </div>\n    </>;\n};\n\n\nexport default TimetableHeaderComponent;","import { Box, makeStyles, Typography } from \"@material-ui/core\";\nimport { eachDayOfInterval } from \"date-fns\";\nimport { endOfWeek, startOfWeek } from \"date-fns/esm\";\nimport React, { FunctionComponent, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport { RootState } from \"typesafe-actions\";\nimport { loadClassesAsync } from \"../../store/classes/actions\";\nimport { loadScheduleAsync } from \"../../store/schedule/actions\";\nimport DayTimetableComponent from \"./dayTimetable/DayTimetableComponent\";\nimport TimetableHeaderComponent from \"./timetableHeader/TimetableHeaderComponent\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport ErrorIcon from '@material-ui/icons/Error';\n\nconst mapStateToProps = (state: RootState) => ({\n    scheduleStatus: state.schedule.isLoadingSchedule,\n    schedule: state.schedule.schedule,\n});\n\nconst dispatchProps = {\n    loadSchedule: loadScheduleAsync.request,\n    loadClasses: loadClassesAsync.request,\n}\n\ntype ScheduleParams = {\n    classParam: string,\n}\n\ntype ScheduleProps = ReturnType<typeof mapStateToProps> & typeof dispatchProps;\n\nconst useStyles = makeStyles((theme) => ({\n    timetableWrapper: {\n        display: 'grid',\n        gridAutoFlow: 'rows',\n        gridTemplateColumns: '7vw 90vw',\n        gridTemplateRows: '5vh repeat(5, 15vh)',\n        rowGap: '1px',\n        margin: theme.spacing(2, 1, 2, 1),\n    },\n    skeletonStyle: {\n        transform: 'unset',\n        gridRow: '2 / 7',\n        gridColumn: '1 / 3',\n    },\n}));\n\nconst TimetableComponent: FunctionComponent<ScheduleProps> = ({ scheduleStatus, schedule, loadSchedule, loadClasses }) => {\n    console.log(\"Am I even here?\");\n    const classParam = useParams<ScheduleParams>().classParam;\n    console.log(classParam);\n    useEffect(() => { loadClasses(); }, [loadClasses]);\n    useEffect(() => { loadSchedule(classParam); }, [loadSchedule, classParam]);\n    const classes = useStyles();\n\n    const today = new Date();\n    const days: Date[] = eachDayOfInterval({\n        start: startOfWeek(today, { weekStartsOn: 1 }),\n        end: endOfWeek(today, { weekStartsOn: 1 }),\n    });\n\n    return <Box className={classes.timetableWrapper}>\n        <TimetableHeaderComponent />\n        {scheduleStatus.loading\n            ? <Skeleton className={classes.skeletonStyle} animation=\"wave\"/>\n            : scheduleStatus.error ?\n                <>\n                    <ErrorIcon color=\"error\" />\n                    <Typography variant=\"h6\" color=\"error\">\n                        Wystąpił błąd podczas ładowania rozkładu. Odśwież stronę.\n                    </Typography>\n                </>\n                : Array.from(Array(5).keys()).map(dayIdx => <DayTimetableComponent dayTimetable={schedule[dayIdx]} dayIdx={dayIdx} currentWeekInterval={days} />)\n        }\n        {/* Class param: {classParam} */}\n        {/* Schedule: */}\n        {/* {JSON.stringify(schedule)} */}\n    </Box>;\n}\n\n\nexport default connect(mapStateToProps, dispatchProps)(TimetableComponent);","import { createMuiTheme, CssBaseline, ThemeProvider, useMediaQuery } from \"@material-ui/core\";\nimport React, { FunctionComponent } from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  Switch,\n  Route,\n  HashRouter,\n  Redirect\n} from \"react-router-dom\";\nimport { RootState } from \"typesafe-actions\";\nimport PageFooterComponent from \"./components/PageFooterComponent\";\nimport PageHeaderComponent from \"./components/PageHeaderComponent\";\nimport TimetableComponent from \"./components/timetable/TimetableComponent\";\nimport { setTheme } from \"./store/preferences/actions\";\n\nconst mapStateToProps = (state: RootState) => ({\n  preferences: state.preferences\n});\n\nconst dispatchProps = {\n  setTheme: setTheme,\n};\n\ntype AppProps = ReturnType<typeof mapStateToProps> & typeof dispatchProps;\ntype ThemeType = 'dark' | 'light';\n\nconst App: FunctionComponent<AppProps> = ({ preferences, setTheme }) => {\n  const preferredTheme = useMediaQuery('(prefers-color-scheme: dark)') ? 'dark' : 'light';\n  if (preferences.theme === \"\") {\n    setTheme(preferredTheme);\n  }\n\n  const computedTheme = preferences.theme === \"\" ? preferredTheme : preferences.theme;\n\n  const theme = React.useMemo(() => createMuiTheme({\n    palette: {\n      type: (computedTheme as ThemeType),\n    },\n    overrides: {\n      MuiCssBaseline: {\n        '@global': {\n          body: {\n            '-webkit-text-size-adjust': 'none',\n            'text-size-adjust': 'none',\n            '-moz-text-size-adjust': 'none',\n            '-ms-text-size-adjuist': 'none',\n          },\n          '*': {\n            '--scrollbarBG': '#CFD8DC',\n            '--thumbBG': '#90A4AE',\n            scrollbarWidth: 'thin',\n            scrollbarColor: 'var(--thumbBG) var(--scrollbarBG)',\n          },\n          '*::-webkit-scrollbar': {\n            width: '11px',\n          },\n          '*::-webkit-scrollbar-track': {\n            background: 'var(--scrollbarBG)',\n          },\n          '*::-webkit-scrollbar-thumb': {\n            backgroundColor: 'var(--thumbBG)',\n            bordeRadius: '6px',\n            border: '3px solid var(--scrollbarBG)',\n          }\n        }\n      }\n    }\n  }), [computedTheme]);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <HashRouter>\n        <Switch>\n          <Route path=\"/timetable/:classParam\">\n            <div style={{ display: 'flex', flexDirection: 'column', height: '100vh' }}>\n              <div style={{ flex: \"1 0 auto\" }}>\n                <PageHeaderComponent />\n                <TimetableComponent />\n              </div>\n              <PageFooterComponent />\n            </div>\n          </Route>\n          <Route path=\"/\">\n            <Redirect to=\"/timetable/1A\" />\n          </Route>\n        </Switch>\n      </HashRouter>\n    </ThemeProvider >\n  );\n}\n\nexport default connect(mapStateToProps, dispatchProps)(App);","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { combineReducers } from 'redux';\nimport { ScheduleStatus, WeekSchedule } from \"ApiModel\";\nimport { createReducer } from 'typesafe-actions';\nimport { loadScheduleAsync } from \"./actions\";\n\nexport const isLoadingSchedule = createReducer({ loading: true, error: false } as ScheduleStatus)\n    .handleAction(loadScheduleAsync.request, () => ({ loading: true, error: false } as ScheduleStatus))\n    .handleAction(loadScheduleAsync.failure, () => ({ loading: false, error: true } as ScheduleStatus))\n    .handleAction(loadScheduleAsync.success, (state, action) => {\n        return {loading: false, error: !action.payload.success} as ScheduleStatus;\n    });\n\nexport const schedule = createReducer([] as WeekSchedule)\n    .handleAction(loadScheduleAsync.success, (state, action) => action.payload.resp ? action.payload.resp : []);\n\nconst scheduleReducer = combineReducers({\n    isLoadingSchedule,\n    schedule\n});\n\nexport default scheduleReducer;\nexport type ScheduleState = ReturnType<typeof scheduleReducer>;","import { loadClassesAsync } from './actions';\nimport { combineReducers } from 'redux';\nimport { ClassesStatus } from \"ApiModel\";\nimport { createReducer } from 'typesafe-actions';\n\nexport const isLoadingClasses = createReducer({ loading: true, error: false } as ClassesStatus)\n    .handleAction(loadClassesAsync.request, () => ({ loading: true, error: false } as ClassesStatus))\n    .handleAction(loadClassesAsync.failure, () => ({ loading: false, error: true } as ClassesStatus))\n    .handleAction(loadClassesAsync.success, (state, action) => {\n        return { loading: false, error: !action.payload.success } as ClassesStatus;\n    });\n\nexport const classes = createReducer([] as string[])\n    .handleAction(loadClassesAsync.success, (state, action) => action.payload.resp ? action.payload.resp : []);\n\nconst classesReducer = combineReducers({\n    isLoadingClasses,\n    classes,\n});\n\nexport default classesReducer;\nexport type ClassesState = ReturnType<typeof classesReducer>;","import { combineReducers } from 'redux';\nimport { setTheme } from './actions';\nimport { createReducer } from 'typesafe-actions';\n\n\nexport const themeReducer = createReducer('')\n    .handleAction(setTheme, (state, action) => {\n        return action.payload;\n    });\n\nconst preferencesReducer = combineReducers({\n    theme: themeReducer,\n});\n\nexport default preferencesReducer;\nexport type PreferencesState = ReturnType<typeof preferencesReducer>;","import scheduleReducer from './schedule/reducer';\nimport classesReducer from './classes/reducer';\nimport preferencesReducer from './preferences/reducer';\nimport storage from \"redux-persist/lib/storage\";\nimport { persistCombineReducers } from 'redux-persist';\n\nconst persistConfig = {\n  key: 'root',\n  storage,\n  whitelist: ['preferences'],\n}\nconst rootReducer = persistCombineReducers(persistConfig, {\n  schedule: scheduleReducer,\n  classes: classesReducer,\n  preferences: preferencesReducer,\n});\n\nexport default rootReducer;\n","import { loadScheduleAsync } from './actions';\nimport { Epic } from 'redux-observable';\nimport { RootAction, RootState, Services, isActionOf } from 'typesafe-actions';\nimport { from, of } from 'rxjs';\nimport { filter, switchMap, map, catchError } from 'rxjs/operators';\n\nexport const loadScheduleEpic: Epic<\n    RootAction,\n    RootAction,\n    RootState,\n    Services\n> = (action$, state$, { api }) => action$.pipe(\n    filter(isActionOf(loadScheduleAsync.request)),\n    switchMap((action) =>\n        from(api.schedule.getSchedule(action.payload)).pipe(\n            map(loadScheduleAsync.success),\n            catchError((message: string) => of(loadScheduleAsync.failure(message))\n            )\n        )\n    )\n);","import { loadClassesAsync } from './actions';\nimport { Epic } from \"redux-observable\";\nimport { catchError, filter, map, switchMap } from \"rxjs/operators\";\nimport { isActionOf, RootAction, RootState, Services } from \"typesafe-actions\";\nimport { from, of } from 'rxjs';\n\nexport const loadClassesEpic: Epic<\n    RootAction,\n    RootAction,\n    RootState,\n    Services\n> = (action$, state$, { api }) => action$.pipe(\n    filter(isActionOf(loadClassesAsync.request)),\n    switchMap(() =>\n        from(api.schedule.getClasses()).pipe(\n            map(loadClassesAsync.success),\n            catchError((message: string) => of(loadClassesAsync.failure(message))\n            )\n        )\n    )\n);","import { combineEpics } from 'redux-observable';\n\nimport * as scheduleEpics from './schedule/epics';\nimport * as classesEpics from './classes/epics';\n\nexport default combineEpics(\n    ...Object.values(scheduleEpics),\n    ...Object.values(classesEpics),\n);\n","import { GetScheduleResponse, GetClassesResponse } from \"ApiModel\";\n\n\nexport function getSchedule(classParam: string): Promise<GetScheduleResponse> {\n    return fetch(`https://sabat.dev/api/tta?c=${classParam}&o=0`)\n        .then(response => response.json());\n}\n\nexport function getClasses(): Promise<GetClassesResponse> {\n    return fetch(`https://sabat.dev/api/cla`)\n        .then(response => response.json());\n}","import * as schedule from './schedule-api';\n\nconst apis = {\n    api: {\n        schedule,\n    },\n};\n\nexport default apis;","import { createStore, applyMiddleware } from 'redux';\nimport { createEpicMiddleware } from 'redux-observable';\nimport { RootAction, RootState, Services } from 'typesafe-actions';\n\nimport rootReducer from './root-reducer';\nimport rootEpic from './root-epic';\nimport services from '../services';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nexport const epicMiddleware = createEpicMiddleware<\n  RootAction,\n  RootAction,\n  RootState,\n  Services\n>({\n  dependencies: services,\n});\n\n// configure middlewares\nconst middlewares = [epicMiddleware];\n// compose enhancers\nconst enhancer = composeWithDevTools(applyMiddleware(...middlewares));\n\n// rehydrate state on app start\n// const initialState = {};\n\n// create store\nconst store = createStore(rootReducer, enhancer);\nepicMiddleware.run(rootEpic);\n\n// export store singleton instance\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { persistStore } from 'redux-persist';\nimport { CircularProgress } from '@material-ui/core';\n\nconst persistor = persistStore(store);\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={<CircularProgress />} persistor={persistor}>\n        <App />\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}