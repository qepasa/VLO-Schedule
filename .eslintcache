[{"/home/pawel/Programowanie/Projects/vlo-schedule/src/index.tsx":"1","/home/pawel/Programowanie/Projects/vlo-schedule/src/reportWebVitals.ts":"2","/home/pawel/Programowanie/Projects/vlo-schedule/src/App.tsx":"3","/home/pawel/Programowanie/Projects/vlo-schedule/src/store/index.ts":"4","/home/pawel/Programowanie/Projects/vlo-schedule/src/store/root-reducer.ts":"5","/home/pawel/Programowanie/Projects/vlo-schedule/src/store/root-epic.ts":"6","/home/pawel/Programowanie/Projects/vlo-schedule/src/services/index.ts":"7","/home/pawel/Programowanie/Projects/vlo-schedule/src/store/schedule/reducer.ts":"8","/home/pawel/Programowanie/Projects/vlo-schedule/src/store/schedule/epics.ts":"9","/home/pawel/Programowanie/Projects/vlo-schedule/src/services/schedule-api.ts":"10","/home/pawel/Programowanie/Projects/vlo-schedule/src/store/schedule/actions.ts":"11","/home/pawel/Programowanie/Projects/vlo-schedule/src/components/TimetableComponent.tsx":"12","/home/pawel/Programowanie/Projects/vlo-schedule/src/components/TimetableHeaderComponent.tsx":"13","/home/pawel/Programowanie/Projects/vlo-schedule/src/components/DayTimetableComponent.tsx":"14","/home/pawel/Programowanie/Projects/vlo-schedule/src/components/HourTimetableComponent.tsx":"15","/home/pawel/Programowanie/Projects/vlo-schedule/src/components/LessonComponent.tsx":"16","/home/pawel/Programowanie/Projects/vlo-schedule/src/utils/math-utils.ts":"17","/home/pawel/Programowanie/Projects/vlo-schedule/src/components/HourDialogComponent.tsx":"18","/home/pawel/Programowanie/Projects/vlo-schedule/src/components/PageHeaderComponent.tsx":"19"},{"size":1388,"mtime":1607730120155,"results":"20","hashOfConfig":"21"},{"size":425,"mtime":1607547802650,"results":"22","hashOfConfig":"21"},{"size":2298,"mtime":1607731491982,"results":"23","hashOfConfig":"21"},{"size":865,"mtime":1607553926907,"results":"24","hashOfConfig":"21"},{"size":193,"mtime":1607554019742,"results":"25","hashOfConfig":"21"},{"size":171,"mtime":1607553549105,"results":"26","hashOfConfig":"21"},{"size":100,"mtime":1607549675590,"results":"27","hashOfConfig":"21"},{"size":1033,"mtime":1607556837048,"results":"28","hashOfConfig":"21"},{"size":713,"mtime":1607552765100,"results":"29","hashOfConfig":"21"},{"size":241,"mtime":1607731327488,"results":"30","hashOfConfig":"21"},{"size":282,"mtime":1607553680353,"results":"31","hashOfConfig":"21"},{"size":2152,"mtime":1607730120155,"results":"32","hashOfConfig":"21"},{"size":1143,"mtime":1607730120155,"results":"33","hashOfConfig":"21"},{"size":5256,"mtime":1607730120155,"results":"34","hashOfConfig":"21"},{"size":858,"mtime":1607730120155,"results":"35","hashOfConfig":"21"},{"size":2186,"mtime":1607730411144,"results":"36","hashOfConfig":"21"},{"size":703,"mtime":1607730120159,"results":"37","hashOfConfig":"21"},{"size":1855,"mtime":1607730120155,"results":"38","hashOfConfig":"21"},{"size":934,"mtime":1607730120155,"results":"39","hashOfConfig":"21"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},"1rg3e7k",{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"42"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56","usedDeprecatedRules":"42"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"42"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"42"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"42"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"74","usedDeprecatedRules":"42"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"77","messages":"78","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"79","usedDeprecatedRules":"42"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"82","usedDeprecatedRules":"42"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85","usedDeprecatedRules":"42"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},"/home/pawel/Programowanie/Projects/vlo-schedule/src/index.tsx",[],["88","89"],"/home/pawel/Programowanie/Projects/vlo-schedule/src/reportWebVitals.ts",[],"/home/pawel/Programowanie/Projects/vlo-schedule/src/App.tsx",["90"],"/home/pawel/Programowanie/Projects/vlo-schedule/src/store/index.ts",["91"],"import { createStore, applyMiddleware } from 'redux';\nimport { createEpicMiddleware } from 'redux-observable';\nimport { RootAction, RootState, Services } from 'typesafe-actions';\n\nimport rootReducer from './root-reducer';\nimport rootEpic from './root-epic';\nimport services from '../services';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nexport const epicMiddleware = createEpicMiddleware<\n  RootAction,\n  RootAction,\n  RootState,\n  Services\n>({\n  dependencies: services,\n});\n\n// configure middlewares\nconst middlewares = [epicMiddleware];\n// compose enhancers\nconst enhancer = composeWithDevTools(applyMiddleware(...middlewares));\n\n// rehydrate state on app start\nconst initialState = {};\n\n// create store\nconst store = createStore(rootReducer, enhancer);\nepicMiddleware.run(rootEpic);\n\n// export store singleton instance\nexport default store;","/home/pawel/Programowanie/Projects/vlo-schedule/src/store/root-reducer.ts",[],"/home/pawel/Programowanie/Projects/vlo-schedule/src/store/root-epic.ts",[],"/home/pawel/Programowanie/Projects/vlo-schedule/src/services/index.ts",["92"],"import * as schedule from './schedule-api';\n\nexport default {\n    api: {\n        schedule,\n    },\n};","/home/pawel/Programowanie/Projects/vlo-schedule/src/store/schedule/reducer.ts",["93","94"],"import { combineReducers } from 'redux';\nimport { ScheduleStatus, WeekSchedule } from \"ApiModel\";\nimport { createReducer, RootAction, RootState } from 'typesafe-actions';\nimport { loadScheduleAsync } from \"./actions\";\n\nexport const isLoadingSchedule = createReducer({ loading: true, error: false } as ScheduleStatus)\n    .handleAction(loadScheduleAsync.request, () => ({ loading: true, error: false } as ScheduleStatus))\n    .handleAction(loadScheduleAsync.failure, () => ({ loading: false, error: true } as ScheduleStatus))\n    .handleAction(loadScheduleAsync.success, (state, action) => {\n        return {loading: false, error: !action.payload.success} as ScheduleStatus;\n    });\n\nexport const schedule = createReducer([] as WeekSchedule)\n    .handleAction(loadScheduleAsync.success, (state, action) => action.payload.resp ? action.payload.resp : []);\n\nconst scheduleReducer = combineReducers({\n    isLoadingSchedule,\n    schedule\n});\n\nexport default scheduleReducer;\nexport type ScheduleState = ReturnType<typeof scheduleReducer>;","/home/pawel/Programowanie/Projects/vlo-schedule/src/store/schedule/epics.ts",[],"/home/pawel/Programowanie/Projects/vlo-schedule/src/services/schedule-api.ts",[],"/home/pawel/Programowanie/Projects/vlo-schedule/src/store/schedule/actions.ts",[],"/home/pawel/Programowanie/Projects/vlo-schedule/src/components/TimetableComponent.tsx",["95","96"],"import { Box, makeStyles } from \"@material-ui/core\";\nimport { eachDayOfInterval } from \"date-fns\";\nimport { endOfWeek, startOfWeek } from \"date-fns/esm\";\nimport { FunctionComponent, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { RouteComponentProps, useParams } from \"react-router-dom\";\nimport { RootState } from \"typesafe-actions\";\nimport { loadScheduleAsync } from \"../store/schedule/actions\";\nimport DayTimetableComponent from \"./DayTimetableComponent\";\nimport TimetableHeaderComponent from \"./TimetableHeaderComponent\";\n\n\nconst mapStateToProps = (state: RootState) => ({\n    schedule: state.schedule.schedule,\n});\n\nconst dispatchProps = {\n    loadSchedule: loadScheduleAsync.request,\n}\n\ntype ScheduleParams = {\n    classParam: string,\n}\n\ntype ScheduleProps = ReturnType<typeof mapStateToProps> & typeof dispatchProps;\n\nconst useStyles = makeStyles((theme) => ({\n    timetableWrapper: {\n        display: 'grid',\n        gridAutoFlow: 'rows',\n        gridTemplateColumns: 'repeat(12, 10em)',\n        gridTemplateRows: 'repeat(6, auto)',\n    },\n}));\n\nconst TimetableComponent: FunctionComponent<ScheduleProps> = ({ schedule, loadSchedule }) => {\n    console.log(\"Am I even here?\");\n    const classParam = useParams<ScheduleParams>().classParam;\n    console.log(classParam);\n    useEffect(() => { loadSchedule(classParam); }, [loadSchedule, classParam]);\n    const classes = useStyles();\n    const today = new Date();\n    const days: Date[] = eachDayOfInterval({\n        start: startOfWeek(today, { weekStartsOn: 1 }),\n        end: endOfWeek(today, { weekStartsOn: 1 }),\n    });\n\n    return <Box className={classes.timetableWrapper}>\n        <TimetableHeaderComponent />\n        {Array.from(Array(5).keys()).map(dayIdx => <DayTimetableComponent dayTimetable={schedule[dayIdx]} dayIdx={dayIdx} currentWeekInterval={days}/>)}\n        {/* Class param: {classParam} */}\n        {/* Schedule: */}\n        {/* {JSON.stringify(schedule)} */}\n    </Box>\n}\n\n\nexport default connect(mapStateToProps, dispatchProps)(TimetableComponent);","/home/pawel/Programowanie/Projects/vlo-schedule/src/components/TimetableHeaderComponent.tsx",["97"],"import { Box } from \"@material-ui/core\";\nimport { addMinutes, format } from \"date-fns\";\nimport React, { FunctionComponent } from \"react\";\nimport { start } from \"repl\";\n\n\ntype TimetableHeaderOwnProps = {\n};\n\nconst TimetableHeaderComponent: FunctionComponent<TimetableHeaderOwnProps> = () => {\n    // todo(pawelp): this is ugly. Probably should extract this data somewhere else (e.g. to redux).\n    const startOfLessonArray = [\n        '7:10', '8:00', '9:00', '10:00', '11:00', '12:00', '13:00', '14:00', '14:50', '15:40', '16:30',\n    ];\n    return <>\n        <div>Dzień</div>\n        {startOfLessonArray.map(startOfLesson => {\n            const hm = startOfLesson.split(':');\n            return new Date().setHours(parseInt(hm[0]), parseInt(hm[1]));\n        }).map((startOfLesson, idx) => <Box>\n            <div>{idx.toString()}</div>\n            <div>{format(startOfLesson, \"k:mm\")+\"-\"+format(addMinutes(startOfLesson, 45), \"k:mm\")}</div>\n        </Box>)}\n    </>;\n};\n\n\nexport default TimetableHeaderComponent;","/home/pawel/Programowanie/Projects/vlo-schedule/src/components/DayTimetableComponent.tsx",["98","99","100"],"import React, { FunctionComponent } from \"react\";\nimport { DaySchedule, Lesson } from 'ApiModel';\nimport { Box, Container, makeStyles } from \"@material-ui/core\";\nimport { format } from \"date-fns\";\nimport HourTimetableComponent from \"./HourTimetableComponent\";\n\ntype DayTimetableOwnProps = {\n    dayTimetable: DaySchedule;\n    dayIdx: number;\n    currentWeekInterval: Date[];\n};\n\ntype DayTimetableProps = DayTimetableOwnProps;\n\n\nconst DayTimetableComponent: FunctionComponent<DayTimetableProps> = ({ dayTimetable, dayIdx, currentWeekInterval }) => {\n    if (!dayTimetable) {\n        return <div></div>;\n    }\n    console.log(dayTimetable.flat());\n    const hourData = [...Array(11)].map(e => Array<Lesson>());\n\n    console.log(hourData);\n    dayTimetable.flat().map(lesson => {\n        for (let i = 0; i < lesson.duration; i++) {\n            console.log(lesson);\n            hourData[lesson.time_index + i].push(lesson);\n        }\n    });\n    console.log(hourData);\n    return <>\n        <div>\n            {format(currentWeekInterval[dayIdx], \"EEEE\")}\n        </div>\n        {hourData.map((hour, idx) => <HourTimetableComponent slotIdx={idx} hourTimetable={hour} />)}\n    </>;\n};\n\nexport default DayTimetableComponent;","/home/pawel/Programowanie/Projects/vlo-schedule/src/components/HourTimetableComponent.tsx",["101"],"/home/pawel/Programowanie/Projects/vlo-schedule/src/components/LessonComponent.tsx",["102","103"],"import { Typography } from '@material-ui/core';\nimport { Lesson } from 'ApiModel';\nimport React, { FunctionComponent, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport useFitText from 'use-fit-text';\nimport HourDialogComponent from './HourDialogComponent';\n\ntype LessonComponentOwnProps = {\n    lesson: Lesson;\n    height: string;\n    lessonsByHour: Lesson[][];\n};\n\ntype LessonComponentProps = LessonComponentOwnProps;\n\nconst LessonComponent: FunctionComponent<LessonComponentProps> = ({ lesson, height, lessonsByHour }) => {\n    const { fontSize, ref } = useFitText();\n    const [open, setOpen] = useState(false);\n    const [dialogData, setDialogData] = useState<Lesson[]>([]);\n    const [lessonNumber, setLessonNumber] = useState<number>(0);\n\n    const handleClose = () => {\n        setOpen(false);\n    }\n\n    const handleClick = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n        let currentTargetRect = e.currentTarget.getBoundingClientRect();\n        console.log(e);\n        console.log(currentTargetRect);\n        console.log(e.pageX);\n        const clickXPosRelative = e.pageX - currentTargetRect.left;\n        const clickPositionFrac = clickXPosRelative / (currentTargetRect.right - currentTargetRect.left);\n        console.log(clickPositionFrac);\n        const lessonDurationFrac = 1 / lesson.duration;\n        const xD = Math.floor(clickPositionFrac / lessonDurationFrac);\n        console.log(xD)\n\n        if (e.target === ref.current ||\n            (e.target instanceof Node && ref.current.contains(e.target))) {\n            setDialogData(lessonsByHour[lesson.time_index + xD]);\n            setLessonNumber(lesson.time_index + xD);\n            setOpen(true);\n        }\n    }\n\n    return <div style={{ fontSize, height: height, overflow: 'hidden' }} ref={ref} onClick={handleClick}>\n        <div style={{ textAlign: 'left' }}>{lesson.subject}</div>\n        <div style={{ textAlign: 'center' }}>{lesson.teacher}</div>\n        <div style={{ textAlign: 'right' }}>{lesson.classroom}</div>\n        <HourDialogComponent lessons={dialogData} lessonNumber={lessonNumber} onClose={handleClose} open={open} />\n    </div>;\n};\n\nexport default LessonComponent;","/home/pawel/Programowanie/Projects/vlo-schedule/src/utils/math-utils.ts",["104","105","106","107"],"\n// NOTE(pawelp): using 'number' here is okay since we're not expecting \n// arguments larger than sqrt(2^53-1) (Number.MAX_SAFE_INTEGER). In reality we're expecting ~thousands here at any time?\n\n\nfunction gcd(x: number, y: number): number {\n    if (y > x) {\n        return gcd(y, x);\n    }\n    if (y == 0) {\n        return x;\n    }\n    return gcd(y, x % y);\n}\n\nexport function lcm(an: number[]): number {\n    if (an.length == 0) { throw Error('You need to pass at least one number!'); }\n    if (an.length == 1) return an[0];\n    if (an.length == 2) return (an[0] * an[1]) / gcd(an[0], an[1]);\n\n    const last = an.pop();\n    const lcm_rec = lcm(an);\n    return (last! * lcm_rec) / gcd(last!, lcm_rec);\n}","/home/pawel/Programowanie/Projects/vlo-schedule/src/components/HourDialogComponent.tsx",["108"],"import React, { FunctionComponent } from \"react\";\nimport { Lesson } from 'ApiModel';\nimport { Button, CssBaseline, Dialog, DialogActions, DialogContent, DialogTitle, Divider, List, ListItem, ListItemText } from \"@material-ui/core\";\nimport { prependOnceListener } from \"process\";\n\ntype HourDialogComponentOwnProps = {\n    lessons: Lesson[];\n    lessonNumber: number;\n    onClose: (() => void);\n    open: boolean;\n};\n\ntype LessonComponentProps = HourDialogComponentOwnProps;\n\n\nconst HourDialogComponent: FunctionComponent<LessonComponentProps> = ({ lessons, lessonNumber, onClose, open }) => {\n\n    const handleClose = () => {\n        onClose();\n    };\n    \n    return <>\n        <CssBaseline/>\n        <Dialog onClose={handleClose} aria-labelledby=\"lessons-list-dialog\" open={open} fullWidth>\n            <DialogTitle id=\"lessons-list-dialog-title\">Lekcja {lessonNumber}</DialogTitle>\n            <DialogContent>\n                <List>\n                    {lessons.map(lesson => (<>\n                        <ListItem key={lesson.subject + lesson.teacher + lesson.color}>\n                            <ListItemText\n                                primary={`Nazwa lekcji: ${lesson.subject}`}\n                                secondary={<>\n                                    <div>Nauczyciel: {lesson.teacher}</div>\n                                    <div>Sala: {lesson.classroom}</div>\n                                </>}\n                            />\n                        </ListItem>\n                        <Divider variant=\"inset\" component=\"li\" />\n                    </>\n                    ))}\n                </List>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleClose} color=\"primary\">Zamknij</Button>\n            </DialogActions>\n        </Dialog>\n    </>\n};\n\nexport default HourDialogComponent;","/home/pawel/Programowanie/Projects/vlo-schedule/src/components/PageHeaderComponent.tsx",[],{"ruleId":"109","replacedBy":"110"},{"ruleId":"111","replacedBy":"112"},{"ruleId":"113","severity":1,"message":"114","line":1,"column":10,"nodeType":"115","messageId":"116","endLine":1,"endColumn":19},{"ruleId":"113","severity":1,"message":"117","line":25,"column":7,"nodeType":"115","messageId":"116","endLine":25,"endColumn":19},{"ruleId":"118","severity":1,"message":"119","line":3,"column":1,"nodeType":"120","endLine":7,"endColumn":3},{"ruleId":"113","severity":1,"message":"121","line":3,"column":25,"nodeType":"115","messageId":"116","endLine":3,"endColumn":35},{"ruleId":"113","severity":1,"message":"122","line":3,"column":37,"nodeType":"115","messageId":"116","endLine":3,"endColumn":46},{"ruleId":"113","severity":1,"message":"114","line":1,"column":15,"nodeType":"115","messageId":"116","endLine":1,"endColumn":24},{"ruleId":"113","severity":1,"message":"123","line":6,"column":10,"nodeType":"115","messageId":"116","endLine":6,"endColumn":29},{"ruleId":"113","severity":1,"message":"124","line":4,"column":10,"nodeType":"115","messageId":"116","endLine":4,"endColumn":15},{"ruleId":"125","severity":1,"message":"126","line":11,"column":36,"nodeType":"127","messageId":"128","endLine":11,"endColumn":38},{"ruleId":"129","severity":1,"message":"130","line":52,"column":60,"nodeType":"131","messageId":"132","endLine":52,"endColumn":62},{"ruleId":"129","severity":1,"message":"133","line":60,"column":22,"nodeType":"131","messageId":"132","endLine":60,"endColumn":24},{"ruleId":"113","severity":1,"message":"134","line":4,"column":10,"nodeType":"115","messageId":"116","endLine":4,"endColumn":16},{"ruleId":"113","severity":1,"message":"135","line":1,"column":10,"nodeType":"115","messageId":"116","endLine":1,"endColumn":20},{"ruleId":"113","severity":1,"message":"136","line":4,"column":8,"nodeType":"115","messageId":"116","endLine":4,"endColumn":16},{"ruleId":"129","severity":1,"message":"133","line":10,"column":11,"nodeType":"131","messageId":"132","endLine":10,"endColumn":13},{"ruleId":"129","severity":1,"message":"133","line":17,"column":19,"nodeType":"131","messageId":"132","endLine":17,"endColumn":21},{"ruleId":"129","severity":1,"message":"133","line":18,"column":19,"nodeType":"131","messageId":"132","endLine":18,"endColumn":21},{"ruleId":"129","severity":1,"message":"133","line":19,"column":19,"nodeType":"131","messageId":"132","endLine":19,"endColumn":21},{"ruleId":"113","severity":1,"message":"137","line":4,"column":10,"nodeType":"115","messageId":"116","endLine":4,"endColumn":29},"no-native-reassign",["138"],"no-negated-in-lhs",["139"],"@typescript-eslint/no-unused-vars","'Container' is defined but never used.","Identifier","unusedVar","'initialState' is assigned a value but never used.","import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","'RootAction' is defined but never used.","'RootState' is defined but never used.","'RouteComponentProps' is defined but never used.","'start' is defined but never used.","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","Expected '===' and instead saw '=='.","'repeat' is defined but never used.","'Typography' is defined but never used.","'ReactDOM' is defined but never used.","'prependOnceListener' is defined but never used.","no-global-assign","no-unsafe-negation"]