[{"/home/pawel/Programowanie/Projects/vlo-schedule/src/index.tsx":"1","/home/pawel/Programowanie/Projects/vlo-schedule/src/reportWebVitals.ts":"2","/home/pawel/Programowanie/Projects/vlo-schedule/src/App.tsx":"3","/home/pawel/Programowanie/Projects/vlo-schedule/src/store/index.ts":"4","/home/pawel/Programowanie/Projects/vlo-schedule/src/store/root-reducer.ts":"5","/home/pawel/Programowanie/Projects/vlo-schedule/src/store/root-epic.ts":"6","/home/pawel/Programowanie/Projects/vlo-schedule/src/services/index.ts":"7","/home/pawel/Programowanie/Projects/vlo-schedule/src/store/schedule/reducer.ts":"8","/home/pawel/Programowanie/Projects/vlo-schedule/src/store/schedule/epics.ts":"9","/home/pawel/Programowanie/Projects/vlo-schedule/src/services/schedule-api.ts":"10","/home/pawel/Programowanie/Projects/vlo-schedule/src/store/schedule/actions.ts":"11","/home/pawel/Programowanie/Projects/vlo-schedule/src/utils/math-utils.ts":"12","/home/pawel/Programowanie/Projects/vlo-schedule/src/components/PageHeaderComponent.tsx":"13","/home/pawel/Programowanie/Projects/vlo-schedule/src/components/timetable/TimetableComponent.tsx":"14","/home/pawel/Programowanie/Projects/vlo-schedule/src/components/timetable/dayTimetable/DayTimetableComponent.tsx":"15","/home/pawel/Programowanie/Projects/vlo-schedule/src/components/timetable/hourTimetable/HourDialogComponent.tsx":"16","/home/pawel/Programowanie/Projects/vlo-schedule/src/components/timetable/hourTimetable/LessonComponent.tsx":"17","/home/pawel/Programowanie/Projects/vlo-schedule/src/components/timetable/timetableHeader/TimetableHeaderComponent.tsx":"18","/home/pawel/Programowanie/Projects/vlo-schedule/src/components/timetable/timetableHeader/HeaderSlotComponent.tsx":"19"},{"size":1586,"mtime":1607778059383,"results":"20","hashOfConfig":"21"},{"size":425,"mtime":1607547802650,"results":"22","hashOfConfig":"21"},{"size":2319,"mtime":1607775901956,"results":"23","hashOfConfig":"21"},{"size":865,"mtime":1607553926907,"results":"24","hashOfConfig":"21"},{"size":193,"mtime":1607554019742,"results":"25","hashOfConfig":"21"},{"size":171,"mtime":1607553549105,"results":"26","hashOfConfig":"21"},{"size":100,"mtime":1607549675590,"results":"27","hashOfConfig":"21"},{"size":1033,"mtime":1607556837048,"results":"28","hashOfConfig":"21"},{"size":713,"mtime":1607552765100,"results":"29","hashOfConfig":"21"},{"size":241,"mtime":1607732099773,"results":"30","hashOfConfig":"21"},{"size":282,"mtime":1607553680353,"results":"31","hashOfConfig":"21"},{"size":703,"mtime":1607730120159,"results":"32","hashOfConfig":"21"},{"size":934,"mtime":1607730120155,"results":"33","hashOfConfig":"21"},{"size":2190,"mtime":1607776063233,"results":"34","hashOfConfig":"21"},{"size":5496,"mtime":1607776225277,"results":"35","hashOfConfig":"21"},{"size":1884,"mtime":1607778689180,"results":"36","hashOfConfig":"21"},{"size":2201,"mtime":1607778623286,"results":"37","hashOfConfig":"21"},{"size":1188,"mtime":1607776634634,"results":"38","hashOfConfig":"21"},{"size":776,"mtime":1607777057658,"results":"39","hashOfConfig":"21"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},"1rg3e7k",{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"42"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50","usedDeprecatedRules":"42"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57","usedDeprecatedRules":"42"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"61"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"42"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"42"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78","usedDeprecatedRules":"42"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"81","usedDeprecatedRules":"42"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"84","usedDeprecatedRules":"42"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"87","usedDeprecatedRules":"42"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},"/home/pawel/Programowanie/Projects/vlo-schedule/src/index.tsx",[],["90","91"],"/home/pawel/Programowanie/Projects/vlo-schedule/src/reportWebVitals.ts",[],"/home/pawel/Programowanie/Projects/vlo-schedule/src/App.tsx",["92","93"],"import { Container } from \"@material-ui/core\";\nimport React from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  useRouteMatch,\n  useParams,\n  HashRouter\n} from \"react-router-dom\";\nimport PageHeaderComponent from \"./components/PageHeaderComponent\";\nimport TimetableComponent from \"./components/timetable/TimetableComponent\";\n\n\n\nexport default function App() {\n  return (\n    <HashRouter basename={\"/\"}>\n      {/* <div>\n        <ul>\n          <li>\n          <Link to=\"/\">Home</Link>\n          </li>\n          <li>\n            <Link to=\"/about\">About</Link>\n          </li>\n          <li>\n            <Link to=\"/topics\">Topics</Link>\n          </li>\n          <li>\n            <Link to=\"/schedule\">Schedule</Link>\n          </li>\n        </ul> */}\n\n      <Switch>\n        <Route path=\"/about\">\n          <About />\n        </Route>\n        <Route path=\"/topics\">\n          <Topics />\n        </Route>\n        <Route path=\"/schedule/:classParam\">\n          <PageHeaderComponent />\n          <TimetableComponent />\n        </Route>\n        <Route path=\"/\">\n          <Home />\n        </Route>\n      </Switch>\n      {/* </div> */}\n    </HashRouter>\n  );\n}\n\nfunction Home() {\n  return <h2>\n    Home basename\n    <Link to=\"/schedule/2E\">Schedule</Link>\n  </h2>;\n}\n\nconst About = () => {\n  return <h2>About</h2>;\n}\n\nfunction Topics() {\n  let match = useRouteMatch();\n\n  return (\n    <div>\n      <h2>Topics</h2>\n\n      <ul>\n        <li>\n          <Link to={`${match.url}/components`}>Components</Link>\n        </li>\n        <li>\n          <Link to={`${match.url}/props-v-state`}>\n            Props v. State\n          </Link>\n        </li>\n      </ul>\n\n      {/* The Topics page has its own <Switch> with more routes\n          that build on the /topics URL path. You can think of the\n          2nd <Route> here as an \"index\" page for all topics, or\n          the page that is shown when no topic is selected */}\n      <Switch>\n        <Route path={`${match.path}/:topicId`}>\n          <Topic />\n        </Route>\n        <Route path={match.path}>\n          <h3>Please select a topic.</h3>\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n\ninterface TopicParams {\n  topicId: string,\n};\n\nfunction Topic() {\n  let { topicId } = useParams<TopicParams>();\n  return <h3>Requested topic ID: {topicId}</h3>;\n}\n\n","/home/pawel/Programowanie/Projects/vlo-schedule/src/store/index.ts",["94"],"import { createStore, applyMiddleware } from 'redux';\nimport { createEpicMiddleware } from 'redux-observable';\nimport { RootAction, RootState, Services } from 'typesafe-actions';\n\nimport rootReducer from './root-reducer';\nimport rootEpic from './root-epic';\nimport services from '../services';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nexport const epicMiddleware = createEpicMiddleware<\n  RootAction,\n  RootAction,\n  RootState,\n  Services\n>({\n  dependencies: services,\n});\n\n// configure middlewares\nconst middlewares = [epicMiddleware];\n// compose enhancers\nconst enhancer = composeWithDevTools(applyMiddleware(...middlewares));\n\n// rehydrate state on app start\nconst initialState = {};\n\n// create store\nconst store = createStore(rootReducer, enhancer);\nepicMiddleware.run(rootEpic);\n\n// export store singleton instance\nexport default store;","/home/pawel/Programowanie/Projects/vlo-schedule/src/store/root-reducer.ts",[],"/home/pawel/Programowanie/Projects/vlo-schedule/src/store/root-epic.ts",[],"/home/pawel/Programowanie/Projects/vlo-schedule/src/services/index.ts",["95"],"import * as schedule from './schedule-api';\n\nexport default {\n    api: {\n        schedule,\n    },\n};","/home/pawel/Programowanie/Projects/vlo-schedule/src/store/schedule/reducer.ts",["96","97"],"import { combineReducers } from 'redux';\nimport { ScheduleStatus, WeekSchedule } from \"ApiModel\";\nimport { createReducer, RootAction, RootState } from 'typesafe-actions';\nimport { loadScheduleAsync } from \"./actions\";\n\nexport const isLoadingSchedule = createReducer({ loading: true, error: false } as ScheduleStatus)\n    .handleAction(loadScheduleAsync.request, () => ({ loading: true, error: false } as ScheduleStatus))\n    .handleAction(loadScheduleAsync.failure, () => ({ loading: false, error: true } as ScheduleStatus))\n    .handleAction(loadScheduleAsync.success, (state, action) => {\n        return {loading: false, error: !action.payload.success} as ScheduleStatus;\n    });\n\nexport const schedule = createReducer([] as WeekSchedule)\n    .handleAction(loadScheduleAsync.success, (state, action) => action.payload.resp ? action.payload.resp : []);\n\nconst scheduleReducer = combineReducers({\n    isLoadingSchedule,\n    schedule\n});\n\nexport default scheduleReducer;\nexport type ScheduleState = ReturnType<typeof scheduleReducer>;",["98","99"],"/home/pawel/Programowanie/Projects/vlo-schedule/src/store/schedule/epics.ts",[],"/home/pawel/Programowanie/Projects/vlo-schedule/src/services/schedule-api.ts",[],"/home/pawel/Programowanie/Projects/vlo-schedule/src/store/schedule/actions.ts",[],"/home/pawel/Programowanie/Projects/vlo-schedule/src/utils/math-utils.ts",["100","101","102","103"],"\n// NOTE(pawelp): using 'number' here is okay since we're not expecting \n// arguments larger than sqrt(2^53-1) (Number.MAX_SAFE_INTEGER). In reality we're expecting ~thousands here at any time?\n\n\nfunction gcd(x: number, y: number): number {\n    if (y > x) {\n        return gcd(y, x);\n    }\n    if (y == 0) {\n        return x;\n    }\n    return gcd(y, x % y);\n}\n\nexport function lcm(an: number[]): number {\n    if (an.length == 0) { throw Error('You need to pass at least one number!'); }\n    if (an.length == 1) return an[0];\n    if (an.length == 2) return (an[0] * an[1]) / gcd(an[0], an[1]);\n\n    const last = an.pop();\n    const lcm_rec = lcm(an);\n    return (last! * lcm_rec) / gcd(last!, lcm_rec);\n}","/home/pawel/Programowanie/Projects/vlo-schedule/src/components/PageHeaderComponent.tsx",[],"/home/pawel/Programowanie/Projects/vlo-schedule/src/components/timetable/TimetableComponent.tsx",["104","105"],"import { Box, Container, makeStyles } from \"@material-ui/core\";\nimport { eachDayOfInterval } from \"date-fns\";\nimport { endOfWeek, startOfWeek } from \"date-fns/esm\";\nimport React, { FunctionComponent, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { RouteComponentProps, useParams } from \"react-router-dom\";\nimport { RootState } from \"typesafe-actions\";\nimport { loadScheduleAsync } from \"../../store/schedule/actions\";\nimport DayTimetableComponent from \"./dayTimetable/DayTimetableComponent\";\nimport TimetableHeaderComponent from \"./timetableHeader/TimetableHeaderComponent\";\n\n\nconst mapStateToProps = (state: RootState) => ({\n    schedule: state.schedule.schedule,\n});\n\nconst dispatchProps = {\n    loadSchedule: loadScheduleAsync.request,\n}\n\ntype ScheduleParams = {\n    classParam: string,\n}\n\ntype ScheduleProps = ReturnType<typeof mapStateToProps> & typeof dispatchProps;\n\nconst useStyles = makeStyles((theme) => ({\n    timetableWrapper: {\n        display: 'grid',\n        gridAutoFlow: 'rows',\n        gridTemplateColumns: '7vw 90vw',\n        gridTemplateRows: '5vh repeat(5, 15vh)',\n        rowGap: '1px',\n        margin: theme.spacing(2, 1, 2, 1),\n    },\n}));\n\nconst TimetableComponent: FunctionComponent<ScheduleProps> = ({ schedule, loadSchedule }) => {\n    console.log(\"Am I even here?\");\n    const classParam = useParams<ScheduleParams>().classParam;\n    console.log(classParam);\n    useEffect(() => { loadSchedule(classParam); }, [loadSchedule, classParam]);\n    const classes = useStyles();\n    const today = new Date();\n    const days: Date[] = eachDayOfInterval({\n        start: startOfWeek(today, { weekStartsOn: 1 }),\n        end: endOfWeek(today, { weekStartsOn: 1 }),\n    });\n\n    return <Box className={classes.timetableWrapper}>\n            <TimetableHeaderComponent />\n            {Array.from(Array(5).keys()).map(dayIdx => <DayTimetableComponent dayTimetable={schedule[dayIdx]} dayIdx={dayIdx} currentWeekInterval={days} />)}\n            {/* Class param: {classParam} */}\n            {/* Schedule: */}\n            {/* {JSON.stringify(schedule)} */}\n        </Box>;\n}\n\n\nexport default connect(mapStateToProps, dispatchProps)(TimetableComponent);","/home/pawel/Programowanie/Projects/vlo-schedule/src/components/timetable/dayTimetable/DayTimetableComponent.tsx",["106","107","108","109","110"],"import React, { FunctionComponent } from \"react\";\nimport { DaySchedule, Lesson } from 'ApiModel';\nimport { format } from \"date-fns\";\nimport { lcm } from \"../../../utils/math-utils\";\nimport LessonComponent from \"../hourTimetable/LessonComponent\";\nimport { pl } from \"date-fns/locale\";\nimport useFitText from \"use-fit-text\";\n\nfunction getLessonsByHour(dayTimetable: DaySchedule) {\n    const lessonsByHour = [...Array(11)].map(() => Array<Lesson>());\n\n    // console.log(lessonsByHour);\n    dayTimetable.flat().map(lesson => {\n        for (let i = 0; i < lesson.duration; i++) {\n            // console.log(lesson);\n            lessonsByHour[lesson.time_index + i].push(lesson);\n        }\n    });\n    return lessonsByHour;\n}\n\ntype DayTimetableOwnProps = {\n    dayTimetable: DaySchedule;\n    dayIdx: number;\n    currentWeekInterval: Date[];\n};\n\ntype DayTimetableProps = DayTimetableOwnProps;\n\ntype PositionData = {\n    width: number,\n};\n\ntype ProcessedLesson = {\n    lesson: Lesson;\n    positionData: PositionData;\n};\n\ntype ProcessedHourSlot = {\n    lessons: Array<ProcessedLesson>; // lessons that start at current slot. Sorted by (time_index+duration, subject) descending.\n    totalWidth: number;\n    reamainingWidth: number;\n}\n\nfunction getProcessedHourSlots(dayTimetable: DaySchedule, lessonsByHour: Lesson[][]): Array<ProcessedHourSlot> {\n    const maxCongetsion = Array(11).fill(0);\n    console.log(lessonsByHour);\n    for (let i = 0; i < 11; ++i) {\n        maxCongetsion[i] = lessonsByHour[i].length;\n    }\n\n    console.log(maxCongetsion);\n\n    const totalWidth = lcm(maxCongetsion.filter(val => val != 0));\n\n    const processedHourSlot = dayTimetable.map(hourSchedule => {\n        const processedLessons = hourSchedule.map(lesson => { return { lesson } as ProcessedLesson });\n\n        processedLessons.sort((a, b) => {\n            const aLen = a.lesson.time_index + a.lesson.duration - 1;\n            const bLen = b.lesson.time_index + b.lesson.duration - 1;\n            if (aLen == bLen) {\n                return a.lesson.subject.localeCompare(b.lesson.subject);\n            }\n            return aLen > bLen ? -1 : 1;\n        });\n        return {\n            lessons: processedLessons,\n            totalWidth: totalWidth,\n            reamainingWidth: totalWidth,\n        } as ProcessedHourSlot;\n    });\n    const remainingWidth = Array(11).fill(totalWidth);\n    /// calculate remaining width for each slot individually!!!!\n    for (const hourSlot of processedHourSlot) {\n        for (const lesson of hourSlot.lessons) {\n            const lessonStart = lesson.lesson.time_index, lessonEnd = lesson.lesson.time_index + lesson.lesson.duration;\n            const lessonMaxCongestion = Math.max(...maxCongetsion.slice(lessonStart, lessonEnd));\n            const width = Math.floor(remainingWidth[lessonStart] / lessonMaxCongestion);\n            // console.log(`maxCong: ${lessonMaxCongestion}, remainingW: ${hourSlot.reamainingWidth}`);\n            lesson.positionData = { width };\n            for (let i = lessonStart; i < lessonEnd; ++i) {\n                maxCongetsion[i]--;\n                remainingWidth[i] -= width;\n            }\n        }\n    }\n\n    return processedHourSlot;\n}\n\nconst DayTimetableComponent: FunctionComponent<DayTimetableProps> = ({ dayTimetable, dayIdx, currentWeekInterval }) => {\n    const { fontSize, ref } = useFitText();\n    if (!dayTimetable) {\n        return <div></div>;\n    }\n    // console.log(dayTimetable.flat());\n    const lessonsByHour = getLessonsByHour(dayTimetable);\n    // console.log(lessonsByHour);\n    const processedHourSlots = getProcessedHourSlots(dayTimetable, lessonsByHour);\n\n    const gridRows = processedHourSlots.length > 0 ? processedHourSlots[0].totalWidth : 1;\n    console.log(processedHourSlots);\n\n    const remainingWidth = Array(11).fill(gridRows + 1);\n    const ToComps = processedHourSlots.map(hourSlot => {\n        const result = [];\n        for (const lesson of hourSlot.lessons) {\n            // console.log(`Processing: $`)\n            let bottomRow = remainingWidth[lesson.lesson.time_index];\n            result.push(<div style={\n                {\n                    backgroundColor: `${lesson.lesson.color}`,\n                    gridRow: `${(bottomRow - lesson.positionData.width).toString()} / ${bottomRow.toString()}`,\n                    gridColumn: `${(lesson.lesson.time_index + 1).toString()} / ${(lesson.lesson.time_index + lesson.lesson.duration + 1).toString()}`,\n\n                }}>\n                <LessonComponent lesson={lesson.lesson} height={(15 * lesson.positionData.width / gridRows) + 'vh'} lessonsByHour={lessonsByHour} />\n            </div>);\n            for (let i = lesson.lesson.time_index; i < lesson.lesson.time_index + lesson.lesson.duration; ++i) {\n                remainingWidth[i] -= lesson.positionData.width;\n            }\n        }\n        return result;\n    })\n    // TODO(pawelp): handle empty processedhourslots\n    return <>\n        <div style={{ textOverflow: 'ellipsis', overflow: 'hidden', whiteSpace: 'nowrap' }}>\n            {format(currentWeekInterval[dayIdx], \"iii\", { locale: pl })}\n        </div>\n        <div style={{ display: 'grid', gridTemplateColumns: `repeat(11, calc(90vw/11))`, columnGap: '1px', gridTemplateRows: `repeat(${gridRows}, calc(15vh/${gridRows}))` }}>\n            {ToComps.flat()}\n        </div>\n        {/* {lessonsByHour.map((hour, idx) => <HourTimetableComponent slotIdx={idx} hourTimetable={hour} />)} */}\n    </>;\n};\n\nexport default DayTimetableComponent;\n","/home/pawel/Programowanie/Projects/vlo-schedule/src/components/timetable/hourTimetable/HourDialogComponent.tsx",["111"],"import React, { FunctionComponent } from \"react\";\nimport { Lesson } from 'ApiModel';\nimport { Button, CssBaseline, Dialog, DialogActions, DialogContent, DialogTitle, Divider, List, ListItem, ListItemText } from \"@material-ui/core\";\nimport { prependOnceListener } from \"process\";\n\ntype HourDialogComponentOwnProps = {\n    lessons: Lesson[];\n    lessonNumber: number;\n    onClose: (() => void);\n    open: boolean;\n};\n\ntype LessonComponentProps = HourDialogComponentOwnProps;\n\n\nconst HourDialogComponent: FunctionComponent<LessonComponentProps> = ({ lessons, lessonNumber, onClose, open }) => {\n\n    const handleClose = () => {\n        onClose();\n    };\n    \n    return <>\n        <CssBaseline/>\n        <Dialog onClose={handleClose} aria-labelledby=\"lessons-list-dialog\" open={open} fullWidth>\n            <DialogTitle id=\"lessons-list-dialog-title\">Lekcja {lessonNumber}</DialogTitle>\n            <DialogContent>\n                <List>\n                    {lessons.map(lesson => (<>\n                        <ListItem key={lesson.subject + lesson.teacher + lesson.color}>\n                            <ListItemText\n                                primary={`${lesson.subject}${lesson.group ? \" - \" + lesson.group : \"\"}`}\n                                secondary={<>\n                                    <div>Nauczyciel: {lesson.teacher}</div>\n                                    <div>Sala: {lesson.classroom}</div>\n                                </>}\n                            />\n                        </ListItem>\n                        <Divider variant=\"inset\" component=\"li\" />\n                    </>\n                    ))}\n                </List>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleClose} color=\"primary\">Zamknij</Button>\n            </DialogActions>\n        </Dialog>\n    </>\n};\n\nexport default HourDialogComponent;","/home/pawel/Programowanie/Projects/vlo-schedule/src/components/timetable/hourTimetable/LessonComponent.tsx",["112","113"],"import { Typography } from '@material-ui/core';\nimport { Lesson } from 'ApiModel';\nimport React, { FunctionComponent, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport useFitText from 'use-fit-text';\nimport HourDialogComponent from './HourDialogComponent';\n\ntype LessonComponentOwnProps = {\n    lesson: Lesson;\n    height: string;\n    lessonsByHour: Lesson[][];\n};\n\ntype LessonComponentProps = LessonComponentOwnProps;\n\nconst LessonComponent: FunctionComponent<LessonComponentProps> = ({ lesson, height, lessonsByHour }) => {\n    const { fontSize, ref } = useFitText();\n    const [open, setOpen] = useState(false);\n    const [dialogData, setDialogData] = useState<Lesson[]>([]);\n    const [lessonNumber, setLessonNumber] = useState<number>(0);\n\n    const handleClose = () => {\n        setOpen(false);\n    }\n\n    const handleClick = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n        let currentTargetRect = e.currentTarget.getBoundingClientRect();\n        console.log(e);\n        console.log(currentTargetRect);\n        console.log(e.pageX);\n        const clickXPosRelative = e.pageX - currentTargetRect.left;\n        const clickPositionFrac = clickXPosRelative / (currentTargetRect.right - currentTargetRect.left);\n        console.log(clickPositionFrac);\n        const lessonDurationFrac = 1 / lesson.duration;\n        const xD = Math.floor(clickPositionFrac / lessonDurationFrac);\n        console.log(xD)\n\n        if (e.target === ref.current ||\n            (e.target instanceof Node && ref.current.contains(e.target))) {\n            setDialogData(lessonsByHour[lesson.time_index + xD]);\n            setLessonNumber(lesson.time_index + xD);\n            setOpen(true);\n        }\n    }\n\n    return <div style={{ fontSize, height: height, overflow: 'hidden' }} ref={ref} onClick={handleClick}>\n        <div style={{ textAlign: 'left' }}>{lesson.subject} {lesson.group}</div>\n        <div style={{ textAlign: 'center' }}>{lesson.teacher}</div>\n        <div style={{ textAlign: 'right' }}>{lesson.classroom}</div>\n        <HourDialogComponent lessons={dialogData} lessonNumber={lessonNumber} onClose={handleClose} open={open} />\n    </div>;\n};\n\nexport default LessonComponent;","/home/pawel/Programowanie/Projects/vlo-schedule/src/components/timetable/timetableHeader/TimetableHeaderComponent.tsx",["114","115","116","117","118","119"],"import { Box } from \"@material-ui/core\";\nimport { addMinutes, format } from \"date-fns\";\nimport React, { FunctionComponent } from \"react\";\nimport { start } from \"repl\";\nimport useFitText from \"use-fit-text\";\nimport HeaderSlotComponent from \"./HeaderSlotComponent\";\n\n\ntype TimetableHeaderOwnProps = {\n};\n\nconst TimetableHeaderComponent: FunctionComponent<TimetableHeaderOwnProps> = () => {\n    const {fontSize, ref} = useFitText();\n    // todo(pawelp): this is ugly. Probably should extract this data somewhere else (e.g. to redux).\n    const startOfLessonArray = [\n        '7:10', '8:00', '9:00', '10:00', '11:00', '12:00', '13:00', '14:00', '14:50', '15:40', '16:30',\n    ];\n    return <>\n        <div></div>\n        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(11, calc(90vw/11))', columnGap: '1px' }}>\n            {startOfLessonArray.map(startOfLesson => {\n                const hm = startOfLesson.split(':');\n                return new Date().setHours(parseInt(hm[0]), parseInt(hm[1]));\n            }).map((startOfLesson, idx) => <HeaderSlotComponent lessonIdx={idx} startOfLesson={startOfLesson}/>)}\n        </div>\n    </>;\n};\n\n\nexport default TimetableHeaderComponent;","/home/pawel/Programowanie/Projects/vlo-schedule/src/components/timetable/timetableHeader/HeaderSlotComponent.tsx",[],{"ruleId":"120","replacedBy":"121"},{"ruleId":"122","replacedBy":"123"},{"ruleId":"124","severity":1,"message":"125","line":1,"column":10,"nodeType":"126","messageId":"127","endLine":1,"endColumn":19},{"ruleId":"124","severity":1,"message":"128","line":4,"column":20,"nodeType":"126","messageId":"127","endLine":4,"endColumn":26},{"ruleId":"124","severity":1,"message":"129","line":25,"column":7,"nodeType":"126","messageId":"127","endLine":25,"endColumn":19},{"ruleId":"130","severity":1,"message":"131","line":3,"column":1,"nodeType":"132","endLine":7,"endColumn":3},{"ruleId":"124","severity":1,"message":"133","line":3,"column":25,"nodeType":"126","messageId":"127","endLine":3,"endColumn":35},{"ruleId":"124","severity":1,"message":"134","line":3,"column":37,"nodeType":"126","messageId":"127","endLine":3,"endColumn":46},{"ruleId":"120","replacedBy":"135"},{"ruleId":"122","replacedBy":"136"},{"ruleId":"137","severity":1,"message":"138","line":10,"column":11,"nodeType":"139","messageId":"140","endLine":10,"endColumn":13},{"ruleId":"137","severity":1,"message":"138","line":17,"column":19,"nodeType":"139","messageId":"140","endLine":17,"endColumn":21},{"ruleId":"137","severity":1,"message":"138","line":18,"column":19,"nodeType":"139","messageId":"140","endLine":18,"endColumn":21},{"ruleId":"137","severity":1,"message":"138","line":19,"column":19,"nodeType":"139","messageId":"140","endLine":19,"endColumn":21},{"ruleId":"124","severity":1,"message":"125","line":1,"column":15,"nodeType":"126","messageId":"127","endLine":1,"endColumn":24},{"ruleId":"124","severity":1,"message":"141","line":6,"column":10,"nodeType":"126","messageId":"127","endLine":6,"endColumn":29},{"ruleId":"142","severity":1,"message":"143","line":13,"column":36,"nodeType":"144","messageId":"145","endLine":13,"endColumn":38},{"ruleId":"137","severity":1,"message":"146","line":54,"column":60,"nodeType":"139","messageId":"140","endLine":54,"endColumn":62},{"ruleId":"137","severity":1,"message":"138","line":62,"column":22,"nodeType":"139","messageId":"140","endLine":62,"endColumn":24},{"ruleId":"124","severity":1,"message":"147","line":93,"column":13,"nodeType":"126","messageId":"127","endLine":93,"endColumn":21},{"ruleId":"124","severity":1,"message":"148","line":93,"column":23,"nodeType":"126","messageId":"127","endLine":93,"endColumn":26},{"ruleId":"124","severity":1,"message":"149","line":4,"column":10,"nodeType":"126","messageId":"127","endLine":4,"endColumn":29},{"ruleId":"124","severity":1,"message":"150","line":1,"column":10,"nodeType":"126","messageId":"127","endLine":1,"endColumn":20},{"ruleId":"124","severity":1,"message":"151","line":4,"column":8,"nodeType":"126","messageId":"127","endLine":4,"endColumn":16},{"ruleId":"124","severity":1,"message":"152","line":1,"column":10,"nodeType":"126","messageId":"127","endLine":1,"endColumn":13},{"ruleId":"124","severity":1,"message":"153","line":2,"column":10,"nodeType":"126","messageId":"127","endLine":2,"endColumn":20},{"ruleId":"124","severity":1,"message":"154","line":2,"column":22,"nodeType":"126","messageId":"127","endLine":2,"endColumn":28},{"ruleId":"124","severity":1,"message":"155","line":4,"column":10,"nodeType":"126","messageId":"127","endLine":4,"endColumn":15},{"ruleId":"124","severity":1,"message":"147","line":13,"column":12,"nodeType":"126","messageId":"127","endLine":13,"endColumn":20},{"ruleId":"124","severity":1,"message":"148","line":13,"column":22,"nodeType":"126","messageId":"127","endLine":13,"endColumn":25},"no-native-reassign",["156"],"no-negated-in-lhs",["157"],"@typescript-eslint/no-unused-vars","'Container' is defined but never used.","Identifier","unusedVar","'Router' is defined but never used.","'initialState' is assigned a value but never used.","import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","'RootAction' is defined but never used.","'RootState' is defined but never used.",["156"],["157"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'RouteComponentProps' is defined but never used.","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","Expected '!==' and instead saw '!='.","'fontSize' is assigned a value but never used.","'ref' is assigned a value but never used.","'prependOnceListener' is defined but never used.","'Typography' is defined but never used.","'ReactDOM' is defined but never used.","'Box' is defined but never used.","'addMinutes' is defined but never used.","'format' is defined but never used.","'start' is defined but never used.","no-global-assign","no-unsafe-negation"]